var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},e.parcelRequired7c6=n),n("75VGX");var a=n("bqQ6g");function i(){const e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}async function o(e){return await e.data.map((({list_name:e})=>`<li class="category__home-itm">${e}</li>`)).join("")}async function l(e){return await Promise.all(e.map((async({list_name:e,books:t})=>` \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">${e}</h3> \n    <ul class='list-books__home'>${await async function(e){return"mobile"===i()?c(e.slice(0,1)):"tablet"===i()?c(await e.slice(0,3)):c(e)}(t)}</ul> \n    <button class="button see-more" data-js="${e}">See more</button> \n    </div> \n    `)))}async function r(e,t){const s=e.split(" ");return` \n  <h2 class="block__books-title">${s.splice(0,s.length/2).join(" ")} <span class="block__books-colortitle">${s.splice(s.length/2,s.length).join(" ")}</span></h2> \n        <ul class="block__books-list">${await c(t)}</ul>`}async function c(e){return e.map((({author:e,book_image:t,title:s,description:n,_id:a})=>`<li class="books__itm">  \n    <div class="books__wrapper" id=${a} > \n    <img class="books__image" src="${t}"  alt="${n}" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text"></p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">${s}</p>  \n    <p class="books__info-author">${e}</p>  \n    </div>  \n    </li>`)).join("")}const d=document.querySelector(".block__books"),u=document.querySelector(".category__home"),f=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,a.BooksAPI));function m(){b.refs.modalAuth.classList.toggle("is-hidden")}!async function(){const e=await f.getTopBooks(),t=await f.getCategoryList();if(e.statusText)return u.insertAdjacentHTML("beforeend",await o(t)),d.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),d.insertAdjacentHTML("beforeend",(await l(e.data)).join("")),e.data;throw new Error(e.statusText)}(),u.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("category__home-itm")){d.innerHTML="";const t=await(await f.getOneCategory(`${e.target.innerText}`)).data,s=await f.getTopBooks();"All categories"===e.target.innerText&&(d.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),d.insertAdjacentHTML("beforeend",(await l(s.data)).join(""))),d.insertAdjacentHTML("beforeend",await r(`${e.target.innerText}`,t))}})),d.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("see-more")){const t=e.target.dataset.js;console.dir(t),d.innerHTML="";const s=await(await f.getOneCategory(`${t}`)).data;d.insertAdjacentHTML("beforeend",await r(`${t}`,s))}})),n("i0beZ"),n("krGWQ"),(b=n("krGWQ")).refs.openAuthBtn.addEventListener("click",m),b.refs.closeAutBtn.addEventListener("click",m),b.refs.formAuth.addEventListener("input",(()=>{"Sign up"===b.refs.submitBtn.textContent?""!==b.refs.formAuth.elements.mail.value&&""!==b.refs.formAuth.elements.name.value&&""!==b.refs.formAuth.elements.password.value?b.refs.submitBtn.classList.remove("disabled"):b.refs.submitBtn.classList.add("disabled"):""!==b.refs.formAuth.elements.mail.value&&""!==b.refs.formAuth.elements.password.value?b.refs.submitBtn.classList.remove("disabled"):b.refs.submitBtn.classList.add("disabled")})),b.refs.signInBtn.addEventListener("click",(function(){b.refs.signUpBtn.classList.remove("active"),b.refs.signInBtn.classList.add("active"),b.refs.submitBtn.textContent="Sign in",b.refs.formInputs.innerHTML=""})),b.refs.signUpBtn.addEventListener("click",(function(){b.refs.signInBtn.classList.remove("active"),b.refs.signUpBtn.classList.add("active"),b.refs.submitBtn.textContent="Sign up",b.refs.formInputs.innerHTML='<div class="form__field">\n          <input\n            id="username"\n            type="text"\n            class="form__input form__input-name"\n            name="name"\n            pattern="^[A-Za-z][A-Za-z0-9_]{3,10}$"\n            required\n          />\n          <label for="name" class="form__label form__label-name">Name</label>\n        </div>'})),b.refs.inputName.addEventListener("input",(function(){b.refs.inputName.value?b.refs.labelName.classList.add("checked"):b.refs.labelName.classList.remove("checked")})),b.refs.inputMail.addEventListener("input",(function(){b.refs.inputMail.value?b.refs.labelMail.classList.add("checked"):b.refs.labelMail.classList.remove("checked")})),b.refs.inputPassword.addEventListener("input",(function(){b.refs.inputPassword.value?b.refs.labelPassword.classList.add("checked"):b.refs.labelPassword.classList.remove("checked")}));var b=n("krGWQ"),p=n("8mXNj"),_=n("eyjy7");n("jAzyG");const g=(0,_.getAuth)();b.refs.submitBtn.addEventListener("click",(e=>{if(e.preventDefault(),b.refs.submitBtn.classList.contains("disabled")||b.refs.modalAuth.classList.add("is-hidden"),"Sign up"===b.refs.submitBtn.textContent){const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password"),{value:s}=document.getElementById("username");""!==e&&""!==t&&""!==s&&(0,p.signUp)(e,t,s)}else{const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password");""!==e&&""!==t&&(0,p.signIn)(e,t)}})),b.refs.signOutBtn.addEventListener("click",(e=>{e.preventDefault(),(0,p.singOutFunction)()})),(0,_.onAuthStateChanged)(g,(e=>{if(e){console.log("registrated");e.uid}else console.log("not registrated")})),n("4dIBK");
//# sourceMappingURL=index.d66e728e.js.map
