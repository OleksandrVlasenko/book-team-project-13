var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("ioBS9"),o("75VGX");var a=o("bqQ6g");function s(){const e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}async function i(e){return await e.data.map((({list_name:e})=>`<li class="category__home-itm">${e}</li>`)).join("")}async function r(e){return await Promise.all(e.map((async({list_name:e,books:t})=>` \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">${e}</h3> \n    <ul class='list-books__home'>${await async function(e){return"mobile"===s()?c(e.slice(0,1)):"tablet"===s()?c(await e.slice(0,3)):c(e)}(t)}</ul> \n    <button class="button see-more" data-js="${e}">See more</button> \n    </div> \n    `)))}async function l(e,t){const n=e.split(" ");return` \n  <h2 class="block__books-title">${n.splice(0,n.length/2).join(" ")} <span class="block__books-colortitle">${n.splice(n.length/2,n.length).join(" ")}</span></h2> \n        <ul class="block__books-list">${await c(t)}</ul>`}async function c(e){return e.map((({author:e,book_image:t,title:n,description:o,_id:a})=>`<li class="books__itm">  \n    <div class="books__wrapper" id=${a} > \n    <img class="books__image" src="${t}"  alt="${o}" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text"></p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">${n}</p>  \n    <p class="books__info-author">${e}</p>  \n    </div>  \n    </li>`)).join("")}var d=o("ioBS9");const u=document.querySelector(".block__books"),b=document.querySelector(".category__home"),g=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,a.BooksAPI));!async function(){const e=await g.getTopBooks(),t=await g.getCategoryList();if(e.statusText)return b.insertAdjacentHTML("beforeend",await i(t)),u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(e.data)).join("")),e.data;throw new Error(e.statusText)}(),b.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("category__home-itm")){u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const t=await(await g.getOneCategory(`${e.target.innerText}`)).data,n=await g.getTopBooks();"All categories"===e.target.innerText&&(u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(n.data)).join(""))),u.insertAdjacentHTML("beforeend",await l(`${e.target.innerText}`,t))}(0,d.stopPreloader)()})),u.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("see-more")){const t=e.target.dataset.js;console.dir(t),u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const n=await(await g.getOneCategory(`${t}`)).data;u.insertAdjacentHTML("beforeend",await l(`${t}`,n)),(0,d.stopPreloader)()}})),o("i0beZ"),o("krGWQ"),o("dV7Gh");var f=o("krGWQ"),_=o("8mXNj"),m=o("eyjy7");o("jAzyG");const p=(0,m.getAuth)();f.refs.submitBtn.addEventListener("click",(e=>{if(e.preventDefault(),f.refs.submitBtn.classList.contains("disabled")||f.refs.modalAuth.classList.add("is-hidden"),"Sign up"===f.refs.submitBtn.textContent){const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password"),{value:n}=document.getElementById("username");""!==e&&""!==t&&""!==n&&(0,_.signUp)(e,t,n)}else{const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password");""!==e&&""!==t&&(0,_.signIn)(e,t)}})),f.refs.signOutBtn.addEventListener("click",(e=>{e.preventDefault(),(0,_.singOutFunction)()})),(0,m.onAuthStateChanged)(p,(e=>{if(e){console.log("registrated");e.uid}else console.log("not registrated")})),o("4dIBK");
//# sourceMappingURL=index.dbe84f99.js.map
