!function(){function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},t.parcelRequired7c6=i),i.register("iE7OH",(function(n,t){var o,r;e(n.exports,"register",(function(){return o}),(function(e){return o=e})),e(n.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)i[n[t]]=e[n[t]]},r=function(e){var n=i[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),i.register("aNJCr",(function(n,t){var o;e(n.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var n=r[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),r[e]=n),n}})),i("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.47a7e4e0.js","5dzMn":"shoppingList-clear--bg-x1.15c3c113.png","aE6Dt":"shoppingList-clear--bg-x2.6292faab.png","4SLRF":"shoppingList-clear--bg-x3.9bc44f3d.png","66GWt":"shoppingList--logoAmazon--x1.b8fa90cb.png","gCoKM":"shoppingList--logoAmazon--x2.edefe29e.png","4H2RY":"shoppingList--logoAmazon--x3.0cbc25f5.png","lNgiy":"shoppingList--appleBook--x1.5a9f17e3.png","aaqSH":"shoppingList--appleBook--x2.54474d7d.png","ajUPX":"shoppingList--appleBook--x3.561659b0.png","hDndw":"shoppingList--bookShop--x1.91914384.png","5eFCc":"shoppingList--bookShop--x2.fbbde057.png","85BcA":"shoppingList--bookShop--x3.4cb7e5da.png","2Cals":"remove-book-btn.38fa3b97.svg","5UbS1":"index.4ebfcd8d.css","cfiU8":"index.a341c6ab.js"}')),i("4smAb"),i("18VO4");var s,a=i("bpxeT"),l=i("2TvXO"),c=i("gN0YP");s=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("5dzMn");var p,g=new URL(s);p=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("aE6Dt");var u,d=new URL(p);u=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("4SLRF");var h,_=new URL(u);h=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("66GWt");var f,v=new URL(h);f=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("gCoKM");var b,H=new URL(f);b=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("4H2RY");var S,R=new URL(b);S=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("lNgiy");var m,L=new URL(S);m=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("aaqSH");var k,w=new URL(m);k=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("ajUPX");var x,E=new URL(k);x=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("hDndw");var F,U=new URL(x);F=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("5eFCc");var B,O=new URL(F);B=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("85BcA");var A,N=new URL(B);A=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("2Cals");var y=new URL(A);function C(e){return e.map((function(e){var n=e._id,t=e.book_image,o=e.author,r=e.list_name,i=e.title,s=e.description,a=e.buy_links;return'<li id="'.concat(n,'" class="shopping-list__card-boock">\n                <div class="shopping-list__general-information">\n                    <div>\n                        <img class="shopping-list__img" src="').concat(t,'" alt="book image">\n                        <p class="shopping-list__author">').concat(o,'</p>\n                    </div>\n                        <div">\n                            <h2 class="shopping-list__title-book">').concat(i,'</h2>\n                            <h3 class="shopping-list__list-name">').concat(r,'</h3>\n                            <p class="shopping-list__description--near">').concat(s,'</p>\n                            <p class="shopping-list__author--near">').concat(o,'</p>\n                            <ul class="shopping-list__shop-list">\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[0].url,'" target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoAmazon" srcset="').concat(H," 2x, ").concat(R,' 3x" src="').concat(v,'" alt="logoAmazon">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[1].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoBook" srcset="').concat(w," 2x, ").concat(E,' 3x" src="').concat(L,'" alt="logoBook">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[4].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img bookShop" srcset="').concat(O," 2x, ").concat(N,' 3x" src="').concat(U,'" alt="bookShop">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img id="').concat(n,'" width="38" height="38" class="shopping-list__icon-deleteBtn" src="').concat(y,'" alt="icon-deleteBtn">\n                        </div>\n                        <p class="shopping-list__description">').concat(s,"</p>\n                    </div>\n                    </li>")})).join("")}function T(){return'<div class="shopping-list__clear">\n                <p class="shopping-list__clear--description" >This page is empty, add some books and proceed to order.</p>\n                <img class="shopping-list__clear-bg"  srcset="'.concat(d," 2x, ").concat(_,' 3x" src="').concat(g,'" alt="books">\n            </div>')}var j=i("bkYRy");function J(e){if(e.target.closest(".shopping-list__icon-deleteBtn")===e.target){var n=e.target.attributes.id.nodeValue,t=JSON.parse(localStorage.getItem("idBooks")).filter((function(e){return e._id!==n}));localStorage.setItem("idBooks",JSON.stringify(t)),(0,j.updateShoppingList)(),X()}}var K=i("4smAb"),z=i("6JpON"),M=i("gQOBw"),P=i("fOprm"),q=(j=i("bkYRy"),new(0,c.BooksAPI)),D=document.querySelector(".shopping-list__gallery-boocks");function I(e){return Y.apply(this,arguments)}function Y(){return Y=n(a)(n(l).mark((function e(t){var o;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error;case 3:return e.next=5,Promise.all(t.map(function(){var e=n(a)(n(l).mark((function e(t){return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBookByID(t._id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Y.apply(this,arguments)}function X(){return G.apply(this,arguments)}function G(){return(G=n(a)(n(l).mark((function e(){var t,o,r;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("idBooks")),e.next=4,I(t);case 4:if(o=e.sent,r=o.map((function(e){return e.data})),0!==t.length){e.next=8;break}return e.abrupt("return",D.innerHTML=T());case 8:D.innerHTML=C(r),document.querySelector(".shopping-list__gallery-boocks").addEventListener("click",J),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}window.addEventListener("load",(function(){(0,M.onAuthStateChanged)(P.auth,(function(e){if(e)return(0,K.stopPreloader)(),(0,j.readShoppingList)(),void X();(0,K.stopPreloader)(),n(z).Notify.info("Sign in to view your shopping list"),D.innerHTML=T()}))})),i("68BsN"),i("bNmPK"),i("4Nugj"),i("4purq"),i("kRAXI")}();
//# sourceMappingURL=shopping-list.47a7e4e0.js.map
