{"mappings":"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","sources":["src/index.js","src/js/main_page/functions.js","src/js/open-and-close-modal.js","src/js/popup-about-book.js","src/js/scroll-up.js","src/js/main_page/main_page.js","src/js/header-current-page.js"],"sourcesContent":["import './js/preloader';\nimport './js/support-ukraine';\nimport './js/main_page/main_page';\nimport './js/toggle-color-theme';\nimport './js/header-current-page';\nimport './js/popup-about-book';\nimport './js/refs';\nimport './js/modal-auth/modal-window-authFirebase';\nimport './js/modal-auth/firebaseAuth';\nimport './js/menu';\nimport './js/modal-auth/firebaseDatabase';\nimport './js/open-and-close-modal';\n","import { addMediaWidth } from \"./media-width\";\n\nexport async function murkupCategoryList(fetch) {\n  return await fetch.data.map(({ list_name }) => { return `<li class=\"category__home-itm\" data-category=\"${list_name}\">${list_name}</li>` }).join('');\n}\n\nasync function sliceData(data) {\n\n  if (addMediaWidth() === \"mobile\") {\n    return makeListOfBooks(data.slice(0, 1))\n  } else if (addMediaWidth() === \"tablet\") {\n    return makeListOfBooks(await data.slice(0, 3))\n  } else {\n    return makeListOfBooks(data)\n  }\n}\n\nexport async function murkup(data) {\n\n  return await Promise.all(data.map(async ({ list_name, books }) => {\n    return ` \n    <div class=\"item-books__home\"> \n    <h3 class=\"js-book-categoty\">${list_name}</h3> \n    <ul class='list-books__home'>${await makeListOfBooks(books)}</ul>  \n    <button class=\"button see-more\" data-js=\"${list_name}\" aria-label=\"See more\">See more</button> \n    </div> \n    `;\n  }));\n}\n\nexport async function makeCategoryPage(category, data) {\n\n  const title = category.split(\" \");\n  return ` \n  <h2 class=\"block__books-title\"\n>${title\n      .splice(0, title.length / 2)\n      .join(' ')} <span class=\"block__books-colortitle\">${title\n        .splice(title.length / 2, title.length)\n        .join(' ')}</span></h2> \n        <ul class=\"block__books-list\">${await makeListOfBooks(data)}</ul>\n        <button class=\"button all-categories__btn\" data-js=\"All Categories\" aria-label=\"All categories\">All Categories</button>`;\n\n};\n\nexport async function makeListOfBooks(data) {\n\n  return data.map(({ author, book_image, title, description, _id }) => {\n    return `<li class=\"books__itm\" id=${_id} >  \n    <div class=\"books__wrapper\"> \n    <img class=\"books__image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\"  /> \n    <div class=\"books__overlay\"> \n    <p class=\"books__overlay-text\">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class=\"books__info\">  \n    <p class=\"books__info-title\">${title}</p>  \n    <p class=\"books__info-author\">${author}</p>  \n    </div>  \n    </li>`;\n  }\n  ).join('');\n};\n\nexport async function currentCategoryTogle(value) {\n  await document.querySelector('.js-current-category').classList.remove(`js-current-category`);\n  document.querySelector(`li[data-category=\"${value}\"]`).classList.add(`js-current-category`);\n};","export function onOpenPoPUpModal() {\n  const backdrop = document.querySelector('[data-modal]');\n  backdrop.classList.add('is-active');\n  document.body.classList.add('no-scroll');\n\n  backdrop.addEventListener('click', onCloseModalByClicking);\n  document.body.addEventListener('keyup', onCloseModalByKey);\n}\n\nfunction onCloseModalByClicking(e) {\n  const backdrop = document.querySelector('[data-modal]');\n  const modalWindow = document.querySelector('[data-modal-window]');\n  const closeBtn = document.querySelector('[data-modal-close]');\n  const withinBoundaries = e.composedPath().includes(modalWindow);\n\n  if (\n    !withinBoundaries ||\n    e.target.closest('[data-modal-close]') === closeBtn\n  ) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', onCloseModalByClicking);\n    document.body.removeEventListener('keyup', onCloseModalByKey);\n  }\n}\n\nfunction onCloseModalByKey(e) {\n  const backdrop = document.querySelector('[data-modal]');\n\n  const key = e.keyCode;\n  if (key == 27) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', onCloseModalByClicking);\n    document.body.removeEventListener('keyup', onCloseModalByKey);\n  }\n}\n","import { onOpenPoPUpModal } from './open-and-close-modal';\nimport Notiflix from 'notiflix';\nimport { BooksAPI } from './main_page/fetch';\nimport { updateShoppingList } from './modal-auth/firebaseDatabase';\nimport { auth } from './modal-auth/firebaseFunction';\nimport { onAuthStateChanged } from 'firebase/auth';\n\nconst bookApi = new BooksAPI();\n\nconst bookIMG = document.querySelector('.popup__book-image');\nconst bookTitle = document.querySelector('.popup__book_title');\nconst bookAuthor = document.querySelector('.popup__book_author');\nconst bookReview = document.querySelector('.popup__book_review');\nconst linkAmazon = document.querySelector('.popup__shopping-links-icon.amazon');\nconst linkBook = document.querySelector('.popup__shopping-links-icon.book');\nconst linkBookShop = document.querySelector(\n  '.popup__shopping-links-icon.bookShop'\n);\nconst btn = document.querySelector('#add');\nconst congratMessage = document.querySelector('.under-btn-text');\ncongratMessage.hidden = true;\n\nbtn.addEventListener('click', addOrRemoveBook);\n\nexport async function modalAboutBook(bookId) {\n  try {\n    const { data: book } = await bookApi.getBookByID(`${bookId}`);\n\n    checkLocalStorage(book);\n\n    bookIMG.attributes.src.value = book.book_image;\n    bookTitle.textContent = book.title;\n    bookAuthor.textContent = book.author;\n    bookReview.textContent = book.description;\n    linkAmazon.attributes.href.value = book.buy_links[0].url;\n    linkBook.attributes.href.value = book.buy_links[1].url;\n    linkBookShop.attributes.href.value = book.buy_links[4].url;\n\n    onOpenPoPUpModal();\n  } catch (error) {\n    Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n  }\n}\n\nfunction addOrRemoveBook(e) {\n  if (e.target.disabled) {\n    return;\n  }\n  const id = e.target.attributes.id.value;\n  if (btn.textContent === 'Add to shopping list') {\n    addBook(id);\n  } else {\n    removeBook(id);\n  }\n}\n\nfunction addBook(id) {\n  let idBooks = localStorage.getItem(`idBooks`);\n\n  if (idBooks === 'undefined' || !idBooks || idBooks === '') {\n    idBooks = [];\n    localStorage.setItem(`idBooks`, JSON.stringify(idBooks));\n  }\n\n  idBooks = JSON.parse(localStorage.getItem(`idBooks`));\n\n  idBooks.push(id);\n  localStorage.setItem(`idBooks`, JSON.stringify(idBooks));\n  btn.textContent = 'Remove from the shopping list';\n  congratMessage.hidden = false;\n  if (auth.currentUser) {\n    updateShoppingList();\n  }\n}\n\nfunction removeBook(id) {\n  let idBooks = JSON.parse(localStorage.getItem(`idBooks`));\n\n  idBooks.splice(idBooks.indexOf(id), 1);\n  localStorage.setItem(`idBooks`, JSON.stringify(idBooks));\n  btn.textContent = 'Add to shopping list';\n  congratMessage.hidden = true;\n  if (auth.currentUser) {\n    updateShoppingList();\n  }\n}\n\nfunction checkLocalStorage(book) {\n  let contantLS = localStorage.getItem(`idBooks`);\n\n  if (!contantLS || contantLS === '' || !contantLS.includes(book._id)) {\n    btn.textContent = 'Add to shopping list';\n  } else {\n    btn.textContent = 'Remove from the shopping list';\n    congratMessage.hidden = false;\n  }\n  btn.attributes.id.value = book._id;\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    btn.classList.remove('disabled');\n    btn.disabled = false;\n    congratMessage.textContent =\n      'Congratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n    congratMessage.hidden = true;\n  } else {\n    btn.classList.add('disabled');\n    btn.disabled = true;\n    congratMessage.textContent = 'Please, log in to get more options.';\n    congratMessage.hidden = false;\n  }\n});\n","// const sentinel = document.querySelector('#sentinel');\n\nexport function scrollToStart() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\n// function scrollToStartVP() {\n//   window.scrollBy({\n//     top: window.innerHeight - 140,\n//     behavior: 'smooth',\n//   });\n// }\n\n// const options = {\n//   // root: document.querySelector('#header'),\n//   rootMargin: '250px',\n//   threshold: 1,\n// };\n\n// const observer = new IntersectionObserver(onObserve, options);\n\n// observer.observe(sentinel);\n\n// // observer.unobserve(sentinel);\n\n// function onObserve(entries, observer) {\n//   entries.forEach(entry => {\n//     if (entry.target) {\n//       console.log('intersection');\n//     }\n//   });\n// }\n","import axios from \"axios\"\nimport { BooksAPI } from \"./fetch\";\nimport { makeCategoryPage } from \"./functions\";\nimport { murkupCategoryList } from \"./functions\";\nimport { murkup } from \"./functions\";\nimport { addMediaWidth } from \"./media-width\";\nimport {\n  startPreloader,\n  stopPreloader,\n  addMarkupOfPreloader,\n} from '../preloader';\nimport Notiflix from \"notiflix\";\nimport { currentCategoryTogle } from \"./functions\";\nimport { modalAboutBook } from \"../popup-about-book\"\nimport { scrollToStart } from \"../scroll-up\"\n\n\n\n\nconst refBooks = document.querySelector('.block__books')\nconst refCategory = document.querySelector('.category__home')\nconst markupBook = document.querySelector('.block__category')\n\nconst bookCart = document.querySelector('.book-card__home')\n\nconst bookApi = new BooksAPI();\n\nonFirstload()\n\nasync function onFirstload() {\n  try {\n    const categoryApi = (await bookApi.getCategoryList());\n    refCategory.insertAdjacentHTML('beforeend', (await murkupCategoryList(categoryApi)));\n\n    const preloader = document.querySelector('#preloader');\n    preloader.firstElementChild.style.zIndex = '1002';\n    // const preloader = document.querySelector('#preloader');\n    // setTimeout(() => {\n    //   preloader.firstElementChild.style.zIndex = '-1';\n    // }, 350);\n\n  } catch (error) {\n    Notiflix.Notify.failure(`Categories was not found : ${error.message}`);\n  }\n  try {\n    const resp = (await bookApi.getTopBooks());\n    refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>');\n    refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\"));\n    stopPreloader();\n    return resp.data;\n  } catch (error) {\n    Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    stopPreloader();\n  }\n}\nrefCategory.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(el) {\n  el.preventDefault();\n\n  if (el.target.classList.contains(\"category__home-itm\")) {\n    scrollToStart();\n    refBooks.innerHTML = \"\";\n    //Add and start preloader\n    refBooks.insertAdjacentHTML(\n      'afterbegin',\n      addMarkupOfPreloader()\n    );\n    startPreloader();\n    //-----------------------\n    if (el.target.dataset.category === `all categories`) {\n      try {\n        const resp = (await bookApi.getTopBooks());\n        refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>')\n        refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\"));\n        currentCategoryTogle(el.target.dataset.category);\n        stopPreloader();\n      } catch (error) {\n        Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n      };\n      return;\n    } else {\n      try {\n        const data = await (await bookApi.getOneCategory(`${el.target.dataset.category}`)).data;\n        refBooks.insertAdjacentHTML('beforeend', await makeCategoryPage(`${el.target.dataset.category}`, data));\n        currentCategoryTogle(el.target.dataset.category)\n        stopPreloader();\n      } catch (error) {\n        Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n      };\n    }\n  };\n};\n\nrefBooks.addEventListener('click', onSeeMoreClick);\n\nasync function onSeeMoreClick(event) {\n  event.preventDefault();\n  //Перевірка для відкриття модалки\n  const currentEl = event.target.closest('.books__itm');\n  if (currentEl) {\n    const bookId = currentEl.attributes.id.value;\n    modalAboutBook(bookId);\n  }\n\n  if (event.target.classList.contains('see-more')) {\n    scrollToStart();\n    const requestedCategory = event.target.dataset.js;\n    refBooks.innerHTML = '';\n    //Add and start preloader\n    refBooks.insertAdjacentHTML('afterbegin', addMarkupOfPreloader());\n    startPreloader();\n    //------------------------\n    try {\n      const data = await (\n        await bookApi.getOneCategory(`${requestedCategory}`)\n      ).data;\n      refBooks.insertAdjacentHTML(\n        'beforeend',\n        await makeCategoryPage(`${requestedCategory}`, data)\n      );\n      currentCategoryTogle(`${requestedCategory}`);\n      stopPreloader();\n    } catch (error) {\n      Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    }\n  } else if (event.target.classList.contains('all-categories__btn')) {\n    scrollToStart();\n    refBooks.innerHTML = '';\n    //Add and start preloader\n    refBooks.insertAdjacentHTML('afterbegin', addMarkupOfPreloader());\n    startPreloader();\n    //------------------------\n    try {\n      const resp = await bookApi.getTopBooks();\n      refBooks.insertAdjacentHTML(\n        'afterbegin',\n        '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>'\n      );\n      refBooks.insertAdjacentHTML(\n        'beforeend',\n        (await murkup(resp.data)).join('')\n      );\n      stopPreloader();\n      currentCategoryTogle(\"all categories\");\n    } catch (error) {\n      Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    }\n  }\n};\n\n\n\n\n\n","// import { signUp, signIn, singOutFunction } from './modal-auth/firebaseFunction';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nconst homePg = document.querySelector('.nav__link_home');\nconst shopList = document.querySelector('.nav__link_shopping');\n// console.log(shopList);\n// const btnWr = document.querySelector('.auth-btns__wrapper');\n\nconst liEl = document.querySelector('.nav__item');\n\nconst currentPath = window.top.location.pathname;\n// if (currentPath === '/index.html') {\n//   console.log(currentPath);\n//   homePg.classList.add('current__page');\n// } else if (currentPath === '/') {\n//   homePg.classList.add('current__page');\n// } else if (currentPath === '/shopping-list.html') {\n//   shopList.classList.add('current__page');\n// }\n\nif (\n  currentPath === '/book-team-project-13/index.html' ||\n  currentPath === '/index.html' ||\n  currentPath === '/book-team-project-13/' ||\n  currentPath === '/'\n) {\n  // console.log(currentPath);\n  homePg.classList.add('current__page');\n} else if (currentPath === '/shopping-list.html') {\n  // console.log(currentPath);\n  shopList.classList.add('current__page');\n  homePg.classList.remove('current__page');\n}\n// const url = window.location.href;\n// console.log(url);\n// ////////////////////////\nconst auth = getAuth();\n\n// onAuthStateChanged(auth, user => {\n//   if (user) {\n//     // console.log('registrated');\n//     //     // User is signed in, see docs for a list of available properties\n//     //     // https://firebase.google.com/docs/reference/js/firebase.User\n//     //     const uid = user.uid;\n//     //     // ...\n//     btnWr.classList.remove('is-hidden');\n//     shopList.classList.remove('is-hidden');\n//     homePg.classList.remove('is-hidden');\n//     // localStorage.setItem(\n//     //   'user-data',\n//     //   JSON.stringify({\n//     //     id: user.uid,\n//     //     name: user.displayName,\n//     //     mail: user.email,\n//     //   })\n//     // );\n//   } else {\n//     // console.log('not registrated');\n//     btnWr.classList.remove('is-hidden');\n//     shopList.classList.add('is-hidden');\n//     // liEl.classList.add('is-hidden');\n//     homePg.classList.add('is-hidden');\n//     localStorage.removeItem('user-data');\n//   }\n// });\nonAuthStateChanged(auth, user => {\n  if (!user) {\n    // console.log('registrated');\n    //     // User is signed in, see docs for a list of available properties\n    //     // https://firebase.google.com/docs/reference/js/firebase.User\n    //     const uid = user.uid;\n    //     // ...\n\n    // btnWr.classList.remove('is-hidden');\n    shopList.classList.add('is-hidden');\n    homePg.classList.add('is-hidden');\n\n    // localStorage.setItem(\n    //   'user-data',\n    //   JSON.stringify({\n    //     id: user.uid,\n    //     name: user.displayName,\n    //     mail: user.email,\n    //   })\n    // );\n  } else {\n    // console.log('not registrated');\n    // btnWr.classList.remove('is-hidden');\n    shopList.classList.remove('is-hidden');\n    homePg.classList.remove('is-hidden');\n  }\n});\n"],"names":["parcelRequire","async","$d5714379388b7225$export$af76976bfd573c60","fetch","data","map","list_name","join","$d5714379388b7225$export$10f346b5617a8f5c","Promise","all","books","$d5714379388b7225$export$21c7b1be35f5970e","$d5714379388b7225$export$ef55d93817bcd964","category","title","split","splice","length","author","book_image","description","_id","$d5714379388b7225$export$3e6ec7cb67a0de61","value","document","querySelector","classList","remove","add","$021845d28981a6a0$export$122d1ca44f7cd23","backdrop","body","addEventListener","$021845d28981a6a0$var$onCloseModalByClicking","$021845d28981a6a0$var$onCloseModalByKey","e","modalWindow","closeBtn","composedPath","includes","target","closest","removeEventListener","keyCode","$e71bc1bdc8b770bd$var$bookApi","$bqQ6g","BooksAPI","$e71bc1bdc8b770bd$var$bookIMG","$e71bc1bdc8b770bd$var$bookTitle","$e71bc1bdc8b770bd$var$bookAuthor","$e71bc1bdc8b770bd$var$bookReview","$e71bc1bdc8b770bd$var$linkAmazon","$e71bc1bdc8b770bd$var$linkBook","$e71bc1bdc8b770bd$var$linkBookShop","$e71bc1bdc8b770bd$var$btn","$e71bc1bdc8b770bd$var$congratMessage","$e71bc1bdc8b770bd$export$b850fcf839b15525","bookId","book","getBookByID","contantLS","localStorage","getItem","textContent","hidden","attributes","id","$e71bc1bdc8b770bd$var$checkLocalStorage","src","href","buy_links","url","error","$parcel$interopDefault","$7Y9D8","Notify","failure","message","$52650fc44c8b8200$export$21f2de02c4069216","window","scrollTo","top","behavior","disabled","idBooks","setItem","JSON","stringify","parse","push","$8mXNj","auth","currentUser","$4QRki","updateShoppingList","$e71bc1bdc8b770bd$var$addBook","indexOf","$e71bc1bdc8b770bd$var$removeBook","$eyjy7","onAuthStateChanged","user","$abb99e6ee51b8bc8$var$refBooks","$abb99e6ee51b8bc8$var$refCategory","$abb99e6ee51b8bc8$var$bookApi","categoryApi","getCategoryList","insertAdjacentHTML","firstElementChild","style","zIndex","resp","getTopBooks","$ioBS9","stopPreloader","error1","$abb99e6ee51b8bc8$var$onFirstload","el","preventDefault","contains","innerHTML","addMarkupOfPreloader","startPreloader","dataset","getOneCategory","event","currentEl","requestedCategory","js","$69541c07f244aaab$var$homePg","$69541c07f244aaab$var$shopList","$69541c07f244aaab$var$currentPath","location","pathname","$69541c07f244aaab$var$auth","getAuth"],"version":3,"file":"index.f9d34082.js.map"}