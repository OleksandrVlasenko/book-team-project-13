!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=s),s("4smAb"),s("18VO4");var a=s("bpxeT"),o=s("2TvXO"),i=s("gN0YP");a=s("bpxeT"),o=s("2TvXO");function c(){var e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}function u(e){return l.apply(this,arguments)}function l(){return(l=e(a)(e(o).mark((function t(n){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.data.map((function(e){var t=e.list_name;return'<li class="category__home-itm">'.concat(t,"</li>")})).join("");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=e(a)(e(o).mark((function t(n){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mobile"!==c()){e.next=4;break}return e.abrupt("return",h(n.slice(0,1)));case 4:if("tablet"!==c()){e.next=12;break}return e.t0=h,e.next=8,n.slice(0,3);case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 12:return e.abrupt("return",h(n));case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return m=e(a)(e(o).mark((function t(n){return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=e(a)(e(o).mark((function t(n){var r,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.list_name,s=n.books,e.t0=' \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">'.concat(r,"</h3> \n    <ul class='list-books__home'>"),e.next=4,d(s);case 4:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1,'</ul> \n    <button class="button see-more" data-js="').concat(r,'">See more</button> \n    </div> \n    '));case 6:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=e(a)(e(o).mark((function t(n,r){var s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.split(" "),e.t0=' \n  <h2 class="block__books-title">'.concat(s.splice(0,s.length/2).join(" "),' <span class="block__books-colortitle">').concat(s.splice(s.length/2,s.length).join(" "),'</span></h2> \n        <ul class="block__books-list">'),e.next=4,h(r);case 4:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1,"</ul>"));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=e(a)(e(o).mark((function t(n){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.map((function(e){var t=e.author,n=e.book_image,r=e.title,s=e.description,a=e._id;return'<li class="books__itm">  \n    <div class="books__wrapper" id='.concat(a,' > \n    <img class="books__image" src="').concat(n,'"  alt="').concat(s,'" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text"></p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">').concat(r,'</p>  \n    <p class="books__info-author">').concat(t,"</p>  \n    </div>  \n    </li>")})).join(""));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var k=s("4smAb"),_=document.querySelector(".block__books"),x=document.querySelector(".category__home"),L=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,i.BooksAPI));function y(){return(y=e(a)(e(o).mark((function t(){var n,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getTopBooks();case 2:return n=e.sent,e.next=5,L.getCategoryList();case 5:if(r=e.sent,n.statusText){e.next=10;break}throw new Error(n.statusText);case 10:return e.t0=x,e.next=13,u(r);case 13:return e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1),_.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),e.t2=_,e.next=19,p(n.data);case 19:return e.t3=e.sent.join(""),e.t2.insertAdjacentHTML.call(e.t2,"beforeend",e.t3),e.abrupt("return",n.data);case 22:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=e(a)(e(o).mark((function t(n){var r,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!n.target.classList.contains("category__home-itm")){e.next=25;break}return _.innerHTML="",_.insertAdjacentHTML("afterbegin",(0,k.addMarkupOfPreloader)()),(0,k.startPreloader)(),e.next=7,L.getOneCategory("".concat(n.target.innerText));case 7:return e.next=9,e.sent.data;case 9:return r=e.sent,e.next=12,L.getTopBooks();case 12:if(s=e.sent,"All categories"!==n.target.innerText){e.next=20;break}return _.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),e.t0=_,e.next=18,p(s.data);case 18:e.t1=e.sent.join(""),e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1);case 20:return e.t2=_,e.next=23,b("".concat(n.target.innerText),r);case 23:e.t3=e.sent,e.t2.insertAdjacentHTML.call(e.t2,"beforeend",e.t3);case 25:(0,k.stopPreloader)();case 26:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=e(a)(e(o).mark((function t(n){var r,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!n.target.classList.contains("see-more")){e.next=18;break}return r=n.target.dataset.js,console.dir(r),_.innerHTML="",_.insertAdjacentHTML("afterbegin",(0,k.addMarkupOfPreloader)()),(0,k.startPreloader)(),e.next=9,L.getOneCategory("".concat(r));case 9:return e.next=11,e.sent.data;case 11:return s=e.sent,e.t0=_,e.next=15,b("".concat(r),s);case 15:e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1),(0,k.stopPreloader)();case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(){T.refs.modalAuth.classList.toggle("is-hidden")}!function(){y.apply(this,arguments)}(),x.addEventListener("click",(function(e){return w.apply(this,arguments)})),_.addEventListener("click",(function(e){return B.apply(this,arguments)})),s("68BsN"),s("4Nugj"),(T=s("4Nugj")).refs.openAuthBtn.addEventListener("click",A),T.refs.closeAutBtn.addEventListener("click",A),T.refs.formAuth.addEventListener("input",(function(){"Sign up"===T.refs.submitBtn.textContent?""!==T.refs.formAuth.elements.mail.value&&""!==T.refs.formAuth.elements.name.value&&""!==T.refs.formAuth.elements.password.value?T.refs.submitBtn.classList.remove("disabled"):T.refs.submitBtn.classList.add("disabled"):""!==T.refs.formAuth.elements.mail.value&&""!==T.refs.formAuth.elements.password.value?T.refs.submitBtn.classList.remove("disabled"):T.refs.submitBtn.classList.add("disabled")})),T.refs.signInBtn.addEventListener("click",(function(){T.refs.signUpBtn.classList.remove("active"),T.refs.signInBtn.classList.add("active"),T.refs.submitBtn.textContent="Sign in",T.refs.formInputs.innerHTML=""})),T.refs.signUpBtn.addEventListener("click",(function(){T.refs.signInBtn.classList.remove("active"),T.refs.signUpBtn.classList.add("active"),T.refs.submitBtn.textContent="Sign up",T.refs.formInputs.innerHTML='<div class="form__field">\n          <input\n            id="username"\n            type="text"\n            class="form__input form__input-name"\n            name="name"\n            pattern="^[A-Za-z][A-Za-z0-9_]{3,10}$"\n            required\n          />\n          <label for="name" class="form__label form__label-name">Name</label>\n        </div>'})),T.refs.inputName.addEventListener("input",(function(){T.refs.inputName.value?T.refs.labelName.classList.add("checked"):T.refs.labelName.classList.remove("checked")})),T.refs.inputMail.addEventListener("input",(function(){T.refs.inputMail.value?T.refs.labelMail.classList.add("checked"):T.refs.labelMail.classList.remove("checked")})),T.refs.inputPassword.addEventListener("input",(function(){T.refs.inputPassword.value?T.refs.labelPassword.classList.add("checked"):T.refs.labelPassword.classList.remove("checked")}));var T=s("4Nugj"),j=s("fOprm"),E=s("gQOBw");s("cokon");var M=(0,E.getAuth)();T.refs.submitBtn.addEventListener("click",(function(e){if(e.preventDefault(),T.refs.submitBtn.classList.contains("disabled")||T.refs.modalAuth.classList.add("is-hidden"),"Sign up"===T.refs.submitBtn.textContent){var t=document.getElementById("email").value,n=document.getElementById("password").value,r=document.getElementById("username").value;""!==t&&""!==n&&""!==r&&(0,j.signUp)(t,n,r)}else{var s=document.getElementById("email").value,a=document.getElementById("password").value;""!==s&&""!==a&&(0,j.signIn)(s,a)}})),T.refs.signOutBtn.addEventListener("click",(function(e){e.preventDefault(),(0,j.singOutFunction)()})),(0,E.onAuthStateChanged)(M,(function(e){if(e){console.log("registrated");e.uid}else console.log("not registrated")})),s("bNmPK")}();
//# sourceMappingURL=index.abfe4292.js.map
