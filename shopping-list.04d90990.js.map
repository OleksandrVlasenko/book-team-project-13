{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0e4aee3a59ab8fed.js","src/shopping-list.js","src/js/shopping_list/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-c79efad8b045f00b.js","src/js/shopping_list/rendering-shng-lst.js","node_modules/@parcel/runtime-js/lib/runtime-43798b94ba26aa0b.js","node_modules/@parcel/runtime-js/lib/runtime-ea2ceeefa5cc9f1a.js","node_modules/@parcel/runtime-js/lib/runtime-1b1ff994ac61237d.js","node_modules/@parcel/runtime-js/lib/runtime-68cb874bb3b977f0.js","src/js/shopping_list/deleteBookBtn.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.04d90990.js\\\",\\\"4SLRF\\\":\\\"shoppingList-clear--bg-x3.9bc44f3d.png\\\",\\\"1hKdM\\\":\\\"dump.38fa3b97.svg\\\",\\\"6Yrj7\\\":\\\"shoppingList--bookShop.8363c1d3.png\\\",\\\"fRZUL\\\":\\\"shoppingList--logoBook.5f2db3a0.png\\\",\\\"jyzAQ\\\":\\\"shoppingList--logoAmazon.9aa609d6.png\\\",\\\"5UbS1\\\":\\\"index.c37a44b8.css\\\",\\\"cfiU8\\\":\\\"index.6bac87d3.js\\\"}\"));","import './js/preloader';\nimport './js/support-ukraine';\nimport './js/shopping_list/shopping-list';\nimport './js/toggle-color-theme';\nimport './js/menu';\nimport './js/toggle-color-theme';\nimport './js/refs';\nimport './js/shopping_list/deleteBookBtn'\nimport './js/modal-auth/modal-window-authFirebase';\n\n","import { BooksAPI } from \"../main_page/fetch\";\nimport { books } from \"../backend-books\";\nimport { renderClearShoppingList, renderShoppingList } from \"./rendering-shng-lst\";\nimport { handleDeleteBookBtn } from \"./deleteBookBtn\";\nexport { renderCardOfBooks }\n\nconst getBook = new BooksAPI();\nlet logIn = true;\n\nconst galleryBooksEl = document.querySelector(`.shopping-list__gallery-boocks`);\n\nconst objBooks = books;    \nlocalStorage.setItem(`idBooks`, JSON.stringify(objBooks));    \n    \nasync function fetchBookByID(booksFromLocalStorage) {\n    try {\n        const books = await Promise.all(booksFromLocalStorage.map(async id => await getBook.getBookByID(id._id)));\n            return books;\n        } catch (error) {\n            console.log(error);\n        }\n}\n\nasync function renderCardOfBooks() {\n    const IdBooks = JSON.parse(localStorage.getItem(`idBooks`));\n    try {\n        const books = await fetchBookByID(IdBooks);\n        const data = books.map(book => book.data)\n        if (IdBooks.length === 0) {\n            return galleryBooksEl.innerHTML = renderClearShoppingList();\n        }\n        galleryBooksEl.innerHTML = renderShoppingList(data);    \n\n        const cardBook = document.querySelectorAll(`.shopping-list__card-boock`);\n        cardBook.forEach(eventCard => eventCard.addEventListener(`click`, handleDeleteBookBtn))\n\n    } catch (error) {\n        console.log(error)\n    } finally {\n    }\n}\n\nwindow.addEventListener(\"load\", () => {\n    if (!logIn) {\n        return\n    } else {\n    renderCardOfBooks()}\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"4SLRF\");","export {\n    renderShoppingList,\n    renderClearShoppingList,\n}\n\nconst bgImagesUrl = new URL (\n    `../../images/shoppingList-clear--bg-x3.png`,    \n    import.meta.url\n);\n\nconst dumpImagesUrl = new URL (\n    `../../images/dump.svg`,    \n    import.meta.url\n);\n\nconst bookShopImagesUrl = new URL(\n    `../../images/shoppingList--bookShop.png`,\n    import.meta.url\n);\n\nconst logoBookImagesUrl = new URL(\n    `../../images/shoppingList--logoBook.png`,\n    import.meta.url\n);\nconst logoAmazonImagesUrl = new URL(\n    `../../images/shoppingList--logoAmazon.png`,\n    import.meta.url\n);\n\nfunction renderShoppingList(book) {\n        \n    return book.map(({ _id, book_image, author, list_name, title, description, buy_links }) => {\n    return `<div id=\"${_id}\" class=\"shopping-list__card-boock\">\n                <div class=\"shopping-list__general-information\">\n                    <div >\n                        <img class=\"shopping-list__img\" src=\"${book_image}\" alt=\"book image\">\n                        <p class=\"shopping-list__author\">${author}</p>\n                    </div>\n                        <div\">\n                            <h2 class=\"shopping-list__title-book\">${title}</h2>\n                            <h3 class=\"shopping-list__list-name\">${list_name}</h3>\n                            <p class=\"shopping-list__description--near\">${description}</p>\n                            <p class=\"shopping-list__author--near\">${author}</p>\n                            <ul class=\"shopping-list__shop-list\">\n                                <li class=\"shopping-list__shop-list-item\">\n                                    <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list__shop-list-link\" href=\"${buy_links[0].url}\" target=\"_blank\">\n                                        <img class=\"shopping-list__shop-lis--img logoAmazon\" src=\"${logoAmazonImagesUrl}\" alt=\"logoAmazon\">\n                                    </a>\n                                </li>\n                                <li class=\"shopping-list__shop-list-item\">\n                                    <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list__shop-list-link\" href=\"${buy_links[1].url} \" target=\"_blank\">\n                                        <img class=\"shopping-list__shop-lis--img\" src=\"${logoBookImagesUrl}\" alt=\"logoBook\">\n                                    </a>\n                                </li>\n                                <li class=\"shopping-list__shop-list-item\">\n                                    <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list__shop-list-link\" href=\"${buy_links[4].url} \" target=\"_blank\">\n                                        <img class=\"shopping-list__shop-lis--img bookShop\" src=\"${bookShopImagesUrl}\" alt=\"bookShop\">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img width=\"38\" height=\"38\" class=\"shopping-list__icon-deleteBtn\" src=\"${dumpImagesUrl}\" alt=\"bookShop\">\n                        </div>\n                        <p class=\"shopping-list__description\">${description}</p>\n                    </div>\n                    </div>`}).join(\"\");\n}\n\nfunction renderClearShoppingList() {\n    return  `<div class=\"shopping-list__clear\">\n                <p class=\"shopping-list__clear--description\" >This page is empty, add some books and proceed to order.</p>\n                <img class=\"shopping-list__clear-bg\" src=\"${bgImagesUrl}\" alt=\"books\">\n            </div>`;\n}","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"1hKdM\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"6Yrj7\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"fRZUL\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"jyzAQ\");","import { renderCardOfBooks } from \"./shopping-list\";\n\nexport function handleDeleteBookBtn(e) {\n    const idBookToDelete = e.currentTarget.attributes.id.nodeValue;    \n    const goalDeleteBtn = document.querySelector(`.shopping-list__icon-deleteBtn`)\n\n    if (goalDeleteBtn !== e.target) {\n        return\n    } else {\n        const storedBooks = JSON.parse(localStorage.getItem(\"idBooks\"));        \n        const updatedBooks = storedBooks.filter(book => book._id !== idBookToDelete);\n        localStorage.setItem(\"idBooks\", JSON.stringify(updatedBooks));\n        renderCardOfBooks();\n    }\n}"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$3c7f48b0d84e333f$exports","getBundleURL","resolve","$178466c33250bc7b$var$bgImagesUrl","URL","$24036006468961b3$exports","$178466c33250bc7b$var$dumpImagesUrl","$3830fd9ec872e614$exports","$178466c33250bc7b$var$bookShopImagesUrl","$ad0b517437614da0$exports","$178466c33250bc7b$var$logoBookImagesUrl","$89e7259590cd251f$exports","$178466c33250bc7b$var$logoAmazonImagesUrl","$178466c33250bc7b$export$65c31c1b2a0552b2","book","map","param","_id","book_image","author","list_name","title","description","buy_links","concat","join","$178466c33250bc7b$export$2768ac2c6633f57f","$4728bea6426d2c2b$export$7bc0a1a4f9583a6f","e","idBookToDelete","currentTarget","attributes","nodeValue","document","querySelector","target","updatedBooks","localStorage","getItem","filter","setItem","stringify","$d459f0888e8c64c5$export$2b103d1a63f7be96","$d459f0888e8c64c5$var$getBook","$gN0YP","BooksAPI","$d459f0888e8c64c5$var$galleryBooksEl","$d459f0888e8c64c5$var$objBooks","$byw7u","books","$d459f0888e8c64c5$var$fetchBookByID","booksFromLocalStorage","$d459f0888e8c64c5$var$_fetchBookByID","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","_$books","Promise","all","_callee","getBookByID","_ctx1","sent","console","log","t0","$d459f0888e8c64c5$var$_renderCardOfBooks","IdBooks","data","_ctx","innerHTML","querySelectorAll","forEach","eventCard","addEventListener","window"],"version":3,"file":"shopping-list.04d90990.js.map"}