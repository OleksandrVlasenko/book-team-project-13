!function(){function n(n,e,t,r){Object.defineProperty(n,e,{get:t,set:r,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=t.parcelRequired7c6;null==i&&((i=function(n){if(n in r)return r[n].exports;if(n in o){var e=o[n];delete o[n];var t={id:n,exports:{}};return r[n]=t,e.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,e){o[n]=e},t.parcelRequired7c6=i),i.register("iE7OH",(function(e,t){var r,o;n(e.exports,"register",(function(){return r}),(function(n){return r=n})),n(e.exports,"resolve",(function(){return o}),(function(n){return o=n}));var i={};r=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)i[e[t]]=n[e[t]]},o=function(n){var e=i[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),i.register("aNJCr",(function(e,t){var r;n(e.exports,"getBundleURL",(function(){return r}),(function(n){return r=n}));var o={};function i(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(n){var e=o[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return i(n[2])}return"/"}(),o[n]=e),e}})),i("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.09e7ba77.js","4SLRF":"shoppingList-clear--bg-x3.9bc44f3d.png","1hKdM":"dump.38fa3b97.svg","6Yrj7":"shoppingList--bookShop.8363c1d3.png","fRZUL":"shoppingList--logoBook.5f2db3a0.png","jyzAQ":"shoppingList--logoAmazon.9aa609d6.png","5UbS1":"index.12490360.css","cfiU8":"index.e556920b.js"}')),i("4smAb"),i("18VO4");var s,a=i("bpxeT"),l=i("2TvXO"),c=i("gN0YP"),p=i("byw7u");s=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("4SLRF");var u,g=new URL(s);u=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("1hKdM");var d,f=new URL(u);d=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("6Yrj7");var h,_=new URL(d);h=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("fRZUL");var v,b=new URL(h);v=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("jyzAQ");var m=new URL(v);function k(n){return n.map((function(n){var e=n._id,t=n.book_image,r=n.author,o=n.list_name,i=n.title,s=n.description,a=n.buy_links;return'<div id="'.concat(e,'" class="shopping-list__card-boock">\n                <div class="shopping-list__general-information">\n                    <div >\n                        <img class="shopping-list__img" src="').concat(t,'" alt="book image">\n                        <p class="shopping-list__author">').concat(r,'</p>\n                    </div>\n                        <div">\n                            <h2 class="shopping-list__title-book">').concat(i,'</h2>\n                            <h3 class="shopping-list__list-name">').concat(o,'</h3>\n                            <p class="shopping-list__description--near">').concat(s,'</p>\n                            <p class="shopping-list__author--near">').concat(r,'</p>\n                            <ul class="shopping-list__shop-list">\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[0].url,'" target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoAmazon" src="').concat(m,'" alt="logoAmazon">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[1].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img" src="').concat(b,'" alt="logoBook">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[4].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img bookShop" src="').concat(_,'" alt="bookShop">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img width="38" height="38" class="shopping-list__icon-deleteBtn" src="').concat(f,'" alt="bookShop">\n                        </div>\n                        <p class="shopping-list__description">').concat(s,"</p>\n                    </div>\n                    </div>")})).join("")}function S(){return'<div class="shopping-list__clear">\n                <p class="shopping-list__clear--description" >This page is empty, add some books and proceed to order.</p>\n                <img class="shopping-list__clear-bg" src="'.concat(g,'" alt="books">\n            </div>')}function w(n){var e=n.currentTarget.attributes.id.nodeValue;if(document.querySelector(".shopping-list__icon-deleteBtn")===n.target){var t=JSON.parse(localStorage.getItem("idBooks")).filter((function(n){return n._id!==e}));localStorage.setItem("idBooks",JSON.stringify(t)),E()}}var H=new(0,c.BooksAPI),R=document.querySelector(".shopping-list__gallery-boocks"),y=p.books;function L(n){return x.apply(this,arguments)}function x(){return x=e(a)(e(l).mark((function n(t){var r;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all(t.map(function(){var n=e(a)(e(l).mark((function n(t){return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.getBookByID(t._id);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 3:return r=n.sent,n.abrupt("return",r);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),x.apply(this,arguments)}function E(){return B.apply(this,arguments)}function B(){return(B=e(a)(e(l).mark((function n(){var t,r,o;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=JSON.parse(localStorage.getItem("idBooks")),n.prev=1,n.next=4,L(t);case 4:if(r=n.sent,o=r.map((function(n){return n.data})),0!==t.length){n.next=8;break}return n.abrupt("return",R.innerHTML=S());case 8:R.innerHTML=k(o),document.querySelectorAll(".shopping-list__card-boock").forEach((function(n){return n.addEventListener("click",w)})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:return n.prev=16,n.finish(16);case 18:case"end":return n.stop()}}),n,null,[[1,13,16,18]])})))).apply(this,arguments)}localStorage.setItem("idBooks",JSON.stringify(y)),window.addEventListener("load",(function(){E()})),i("68BsN"),i("bNmPK"),i("68BsN"),i("4Nugj"),i("4purq")}();
//# sourceMappingURL=shopping-list.09e7ba77.js.map
