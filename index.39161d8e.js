!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("4smAb"),a("18VO4");var o=a("bpxeT"),s=a("2TvXO"),c=a("gN0YP");o=a("bpxeT"),s=a("2TvXO");function i(){var e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}function u(e){return l.apply(this,arguments)}function l(){return(l=e(o)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.data.map((function(e){var t=e.list_name;return'<li class="category__home-itm">'.concat(t,"</li>")})).join("");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=e(o)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mobile"!==i()){e.next=4;break}return e.abrupt("return",m(n.slice(0,1)));case 4:if("tablet"!==i()){e.next=12;break}return e.t0=m,e.next=8,n.slice(0,3);case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 12:return e.abrupt("return",m(n));case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return b=e(o)(e(s).mark((function t(n){return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=e(o)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.list_name,a=n.books,e.t0=' \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">'.concat(r,"</h3> \n    <ul class='list-books__home'>"),e.next=4,p(a);case 4:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1,'</ul> \n    <button class="button see-more" data-js="').concat(r,'">See more</button> \n    </div> \n    '));case 6:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function k(e,t){return g.apply(this,arguments)}function g(){return(g=e(o)(e(s).mark((function t(n,r){var a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.split(" "),e.t0=' \n  <h2 class="block__books-title">'.concat(a.splice(0,a.length/2).join(" "),' <span class="block__books-colortitle">').concat(a.splice(a.length/2,a.length).join(" "),'</span></h2> \n        <ul class="block__books-list">'),e.next=4,m(r);case 4:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1,'</ul>\n        <button class="button all-categories__btn" data-js="All Categories">All Categories</button>'));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=e(o)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.map((function(e){var t=e.author,n=e.book_image,r=e.title,a=e.description,o=e._id;return'<li class="books__itm">  \n    <div class="books__wrapper" id='.concat(o,' > \n    <img class="books__image" src="').concat(n,'"  alt="').concat(a,'" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">').concat(r,'</p>  \n    <p class="books__info-author">').concat(t,"</p>  \n    </div>  \n    </li>")})).join(""));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var h=a("4smAb"),_=a("6JpON"),y=document.querySelector(".block__books"),x=document.querySelector(".category__home"),w=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,c.BooksAPI));function j(){return(j=e(o)(e(s).mark((function t(){var n,r;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.getCategoryList();case 3:return n=t.sent,t.t0=x,t.next=7,u(n);case 7:t.t1=t.sent,t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),t.next=14;break;case 11:t.prev=11,t.t2=t.catch(0),e(_).Notify.failure("Categories was not found : ".concat(t.t2.message));case 14:return t.prev=14,t.next=17,w.getTopBooks();case 17:return r=t.sent,y.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),t.t3=y,t.next=22,f(r.data);case 22:return t.t4=t.sent.join(""),t.t3.insertAdjacentHTML.call(t.t3,"beforeend",t.t4),t.abrupt("return",r.data);case 27:t.prev=27,t.t5=t.catch(14),e(_).Notify.failure("Books was not found : ".concat(t.t5.message));case 30:case"end":return t.stop()}}),t,null,[[0,11],[14,27]])})))).apply(this,arguments)}function L(){return(L=e(o)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!n.target.classList.contains("category__home-itm")){t.next=42;break}if(y.innerHTML="",y.insertAdjacentHTML("afterbegin",(0,h.addMarkupOfPreloader)()),(0,h.startPreloader)(),"All categories"!==n.target.innerText){t.next=25;break}return t.prev=6,t.next=9,w.getTopBooks();case 9:return r=t.sent,y.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),t.t0=y,t.next=14,f(r.data);case 14:t.t1=t.sent.join(""),t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),(0,h.stopPreloader)(),t.next=22;break;case 19:t.prev=19,t.t2=t.catch(6),e(_).Notify.failure("Books was not found : ".concat(t.t2.message));case 22:return t.abrupt("return");case 25:return t.prev=25,t.next=28,w.getOneCategory("".concat(n.target.innerText));case 28:return t.next=30,t.sent.data;case 30:return a=t.sent,t.t3=y,t.next=34,k("".concat(n.target.innerText),a);case 34:t.t4=t.sent,t.t3.insertAdjacentHTML.call(t.t3,"beforeend",t.t4),(0,h.stopPreloader)(),t.next=42;break;case 39:t.prev=39,t.t5=t.catch(25),e(_).Notify.failure("Books was not found : ".concat(t.t5.message));case 42:case"end":return t.stop()}}),t,null,[[6,19],[25,39]])})))).apply(this,arguments)}function T(){return(T=e(o)(e(s).mark((function t(n){var r,a,o;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!n.target.classList.contains("see-more")){t.next=25;break}return r=n.target.dataset.js,y.innerHTML="",y.insertAdjacentHTML("afterbegin",(0,h.addMarkupOfPreloader)()),(0,h.startPreloader)(),t.prev=6,t.next=9,w.getOneCategory("".concat(r));case 9:return t.next=11,t.sent.data;case 11:return a=t.sent,t.t0=y,t.next=15,k("".concat(r),a);case 15:t.t1=t.sent,t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),(0,h.stopPreloader)(),t.next=23;break;case 20:t.prev=20,t.t2=t.catch(6),e(_).Notify.failure("Books was not found : ".concat(t.t2.message));case 23:t.next=45;break;case 25:if(!n.target.classList.contains("all-categories__btn")){t.next=45;break}return y.innerHTML="",y.insertAdjacentHTML("afterbegin",(0,h.addMarkupOfPreloader)()),(0,h.startPreloader)(),t.prev=29,t.next=32,w.getTopBooks();case 32:return o=t.sent,y.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),t.t3=y,t.next=37,f(o.data);case 37:t.t4=t.sent.join(""),t.t3.insertAdjacentHTML.call(t.t3,"beforeend",t.t4),(0,h.stopPreloader)(),t.next=45;break;case 42:t.prev=42,t.t5=t.catch(29),e(_).Notify.failure("Books was not found : ".concat(t.t5.message));case 45:case"end":return t.stop()}}),t,null,[[6,20],[29,42]])})))).apply(this,arguments)}!function(){j.apply(this,arguments)}(),x.addEventListener("click",(function(e){return L.apply(this,arguments)})),y.addEventListener("click",(function(e){return T.apply(this,arguments)})),a("68BsN"),a("4Nugj"),a("4purq");var B=a("4Nugj"),A=a("fOprm"),M=a("gQOBw");a("cokon");var O=(0,M.getAuth)();B.refs.submitBtn.addEventListener("click",(function(e){if(e.preventDefault(),B.refs.submitBtn.classList.contains("disabled")||B.refs.modalAuth.classList.add("is-hidden"),"Sign up"===B.refs.submitBtn.textContent){var t=document.getElementById("email").value,n=document.getElementById("password").value,r=document.getElementById("username").value;""!==t&&""!==n&&""!==r&&(0,A.signUp)(t,n,r)}else{var a=document.getElementById("email").value,o=document.getElementById("password").value;""!==a&&""!==o&&(0,A.signIn)(a,o)}})),B.refs.signOutBtn.addEventListener("click",(function(e){e.preventDefault(),(0,A.singOutFunction)()})),(0,M.onAuthStateChanged)(O,(function(e){if(e){console.log("registrated");e.uid}else console.log("not registrated")})),a("bNmPK");var P=a("fkNhc"),H=a("cokon"),E=(M=a("gQOBw"),a("byw7u")),N=(0,P.initializeApp)({apiKey:"AIzaSyAmjMPhgeiPnKuRTAY8vypkpT4j7HmPfug",authDomain:"fu11stack-book-project.firebaseapp.com",databaseURL:"https://fu11stack-book-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fu11stack-book-project",storageBucket:"fu11stack-book-project.appspot.com",messagingSenderId:"110270361117",appId:"1:110270361117:web:304c337163371a2e8920f4"}),S=(0,H.getDatabase)(N),I=(0,M.getAuth)();I.currentUser;document.querySelector(".btn_read").addEventListener("click",(function(){var e=I.currentUser.uid,t=(0,H.ref)(S,"/users"+e);(0,H.onValue)(t,(function(e){var t=e.val();alert(t.shoppingList),console.log(t.shoppingList)}))}));var q=document.querySelector(".test-button");console.log(q),document.querySelector(".btn_update").addEventListener("click",(function(){var e=I.currentUser.uid,t=(0,H.ref)(S,"/users"+e);(0,H.update)(t,{shoppingList:E.books}).then((function(){alert("data updated")})).catch((function(e){alert(e)}))}))}();
//# sourceMappingURL=index.39161d8e.js.map
