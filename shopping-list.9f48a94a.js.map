{"mappings":"iiBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAEME,EAAU,IAAI,E,WAAAC,UAEdC,EAAiBC,SAASC,cAAe,kCAC/CC,QAAQC,IAAIJ,GAEZ,IAAMK,ECPe,CACnB,CACEC,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,6BDNXC,aAAaC,QAAS,UAAUC,KAAKC,UAAUL,IAE/C,IAAMM,EAAUF,KAAKG,MAAML,aAAaM,QAAS,Y,SAGlCC,I,OAAAC,EAAaC,MAAAC,KAAAC,U,UAAbH,I,OAAAA,EAAfI,EAAAtB,EAAA,CAAAsB,EAAAC,GAAAC,MAAA,SAAAC,I,IAEcC,E,2FAAcC,QAAQC,IAAId,EAAQe,IAAG,W,MAACP,EAAAtB,EAAA,CAAAsB,EAAAC,GAAAC,MAAA,SAAAM,EAAMC,G,kFAAY9B,EAAQ+B,YAAYD,EAAGtB,K,mGAAnCsB,G,gCAAP,K,cAArCL,EAAKO,EAAAC,KACP5B,QAAQC,IAAImB,G,kBACLA,G,gCAEPpB,QAAQC,IAAG0B,EAAAE,I,yDANRjB,EAAaC,MAAAC,KAAAC,U,CAU5B,SAASe,EAAmBC,GAEhB,OAAOA,EAAKR,KAAI,SAAAS,G,IAAG7B,EAAG6B,EAAH7B,IAAK8B,EAAUD,EAAVC,WAAYC,EAAMF,EAANE,OAAQC,EAASH,EAATG,UAAWC,EAAKJ,EAALI,MAAOC,EAAWL,EAAXK,YAAaC,EAASN,EAATM,UAC3E,MAAO,YAGwCC,OAH5BpC,EAAI,yLAIoBoC,OADIN,EAAW,8EAIVM,OAHLL,EAAO,mHAIHK,OADCH,EAAM,oEAIOG,OAHdJ,EAAU,yMAQII,OALAD,EAAU,GAAGE,IAAI,wTAUjBD,OALAD,EAAU,GAAGE,IAAI,qTAiBtCD,OAZqBD,EAAU,GAAGE,IAAI,uiBAY1BD,OAAZF,EAAY,2B,IAC1CI,KAAK,G,UAUZC,I,OAAAA,EAAf1B,EAAAtB,EAAA,CAAAsB,EAAAC,GAAAC,MAAA,SAAAM,I,IACUJ,EACAuB,E,kFADchC,I,UAAdS,EAAKwB,EAAAhB,KACLe,EAAOvB,EAAMG,KAAI,SAAAQ,G,OAAQA,EAAKY,I,IAChC3C,QAAQC,IAAI0C,G,SAGc,IADPrC,KAAKG,MAAML,aAAaM,QAAS,YACrCmC,OAAY,C,wCAChBhD,EAAeiD,UAbrB,2N,wBAemChB,EAAmBa,G,iCAApD9C,EAAeiD,UAASF,EAAAhB,M,kCAE/B5B,QAAQC,IAAG2C,EAAAf,I,2DAXahB,MAAAC,KAAAC,U,CAehCgC,OAAOC,iBAAiB,O,kBAfTN,EAAiB7B,MAAAC,KAAAC,U,CAeAkC,G","sources":["src/shopping-list.js","src/js/shopping-list.js","src/js/backend-books.js"],"sourcesContent":["import './js/support-ukraine';\nimport './js/shopping-list';","import { BooksAPI } from \"./main_page/fetch\";\nimport { books } from \"./backend-books\";\nconst getBook = new BooksAPI();\n\nconst galleryBooksEl = document.querySelector(`.shopping-list__gallery-boocks`);\nconsole.log(galleryBooksEl)\n\nconst objBooks = books;    \nlocalStorage.setItem(`idBooks`, JSON.stringify(objBooks));\n\nconst IdBooks = JSON.parse(localStorage.getItem(`idBooks`));\n    \n    \nasync function fetchBookByID() {\n    try {\n        const books = await Promise.all(IdBooks.map(async id => await getBook.getBookByID(id._id)));\n            console.log(books)\n            return books;\n        } catch (error) {\n            console.log(error);\n        }\n}\n    \nfunction renderShoppingList(book) {\n        \n            return book.map(({ _id, book_image, author, list_name, title, description, buy_links }) => {\n            return `<div id=\"${_id}\" class=\"shopping-list__card-boock\">\n            <div class=\"shopping-list__general-information\">\n                <div >\n                    <img class=\"shopping-list__img\" src=\"${book_image}\" alt=\"book image\">\n                    <p class=\"shopping-list__author\">${author}</p>\n                </div>\n                <div>\n                    <h2 class=\"shopping-list__title-book\">${title}</h2>\n                    <h3 class=\"shopping-list__list-name\">${list_name}</h3>\n                <ul class=\"shopping-list__shop-list\">\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[0].url}\" target=\"_blank\">\n                            <img src=\"./images/shoppingList--logoAmazon.png\" alt=\"logoAmazon\">\n                        </a>\n                    </li>\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[1].url} \" target=\"_blank\">\n                            <img src=\"./images/shoppingList--logoBook.png\" alt=\"logoBook\">\n                        </a>\n                    </li>\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[4].url} \" target=\"_blank\">\n                            <img src=\"./images/shoppingList--bookShop.png\" alt=\"bookShop\">\n                        </a>\n                    </li>\n                </ul>\n                </div>                           \n                    <svg class=\"shopping-list__icon-deleteBtn\" width=\"28\" height=\"28\">\n                        <use href=\"./images/dump.svg\"></use>\n                    </svg>            \n                <div>\n            </div>\n            </div>\n            <p class=\"shopping-list__description\">${description}</p>\n            </div>`}).join(\"\");\n}\n\nfunction renderClearShoppingList() {\n    return  `<div class=\"shopping-list__clear\">\n                <p>This page is empty, add some books and proceed to order.</p>\n                <img src=\"./images/shoppingList-clear--bg-x2.png\" alt=\"books\">\n            </div>`;\n}\n\nasync function renderCardOfBooks() {\n    const books = await fetchBookByID();\n    const data = books.map(book => book.data)\n        console.log(data)\n    try {\n        const getIdBooks = JSON.parse(localStorage.getItem(`idBooks`));\n        if (getIdBooks.length === 0) {\n            return galleryBooksEl.innerHTML = renderClearShoppingList();\n        }\n        return galleryBooksEl.innerHTML = await renderShoppingList(data);\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nwindow.addEventListener(\"load\", renderCardOfBooks());\n","export const books = [\n  {\n    \"_id\": \"643282b1e85766588626a07f\",\n  },\n  {\n    \"_id\": \"643282b1e85766588626a0be\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a108\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a128\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a14a\",\n  },\n]"],"names":["parcelRequire","$bpxeT","$399cd7aec2522034$var$getBook","BooksAPI","$399cd7aec2522034$var$galleryBooksEl","document","querySelector","console","log","$399cd7aec2522034$var$objBooks","_id","localStorage","setItem","JSON","stringify","$399cd7aec2522034$var$IdBooks","parse","getItem","$399cd7aec2522034$var$fetchBookByID","$399cd7aec2522034$var$_fetchBookByID","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","_$books","Promise","all","map","_callee","id","getBookByID","_ctx1","sent","t0","$399cd7aec2522034$var$renderShoppingList","book","param","book_image","author","list_name","title","description","buy_links","concat","url","join","$399cd7aec2522034$var$_renderCardOfBooks","data","_ctx","length","innerHTML","window","addEventListener","$399cd7aec2522034$var$renderCardOfBooks"],"version":3,"file":"shopping-list.9f48a94a.js.map"}