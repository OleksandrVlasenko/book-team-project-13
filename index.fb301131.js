var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("ioBS9"),n("75VGX");var a=n("bqQ6g");function s(){const e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}async function i(e){return await e.data.map((({list_name:e})=>`<li class="category__home-itm">${e}</li>`)).join("")}async function r(e){return await Promise.all(e.map((async({list_name:e,books:t})=>` \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">${e}</h3> \n    <ul class='list-books__home'>${await async function(e){return"mobile"===s()?l(e.slice(0,1)):"tablet"===s()?l(await e.slice(0,3)):l(e)}(t)}</ul> \n    <button class="button see-more" data-js="${e}">See more</button> \n    </div> \n    `)))}async function c(e,t){const o=e.split(" ");return` \n  <h2 class="block__books-title">${o.splice(0,o.length/2).join(" ")} <span class="block__books-colortitle">${o.splice(o.length/2,o.length).join(" ")}</span></h2> \n        <ul class="block__books-list">${await l(t)}</ul>`}async function l(e){return e.map((({author:e,book_image:t,title:o,description:n,_id:a})=>`<li class="books__itm">  \n    <div class="books__wrapper" id=${a} > \n    <img class="books__image" src="${t}"  alt="${n}" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">${o}</p>  \n    <p class="books__info-author">${e}</p>  \n    </div>  \n    </li>`)).join("")}var d=n("ioBS9");const u=document.querySelector(".block__books"),p=document.querySelector(".category__home"),b=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,a.BooksAPI));!async function(){const e=await b.getTopBooks(),t=await b.getCategoryList();if(e.statusText)return p.insertAdjacentHTML("beforeend",await i(t)),u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(e.data)).join("")),e.data;throw new Error(e.statusText)}(),p.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("category__home-itm")){u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const t=await(await b.getOneCategory(`${e.target.innerText}`)).data,o=await b.getTopBooks();"All categories"===e.target.innerText&&(u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(o.data)).join(""))),u.insertAdjacentHTML("beforeend",await c(`${e.target.innerText}`,t))}(0,d.stopPreloader)()})),u.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("see-more")){const t=e.target.dataset.js;u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const o=await(await b.getOneCategory(`${t}`)).data;u.insertAdjacentHTML("beforeend",await c(`${t}`,o)),(0,d.stopPreloader)()}})),n("i0beZ"),n("krGWQ"),n("dV7Gh");var g=n("krGWQ"),f=n("8mXNj"),m=n("eyjy7");n("jAzyG");const k=(0,m.getAuth)();g.refs.submitBtn.addEventListener("click",(e=>{if(e.preventDefault(),g.refs.submitBtn.classList.contains("disabled")||g.refs.modalAuth.classList.add("is-hidden"),"Sign up"===g.refs.submitBtn.textContent){const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password"),{value:o}=document.getElementById("username");""!==e&&""!==t&&""!==o&&(0,f.signUp)(e,t,o)}else{const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password");""!==e&&""!==t&&(0,f.signIn)(e,t)}})),g.refs.signOutBtn.addEventListener("click",(e=>{e.preventDefault(),(0,f.singOutFunction)()})),(0,m.onAuthStateChanged)(k,(e=>{if(e){console.log("registrated");e.uid}else console.log("not registrated")})),n("4dIBK");var _=n("gKkQl"),y=n("jAzyG"),h=(m=n("eyjy7"),n("eolzN"));const v=(0,_.initializeApp)({apiKey:"AIzaSyAmjMPhgeiPnKuRTAY8vypkpT4j7HmPfug",authDomain:"fu11stack-book-project.firebaseapp.com",databaseURL:"https://fu11stack-book-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fu11stack-book-project",storageBucket:"fu11stack-book-project.appspot.com",messagingSenderId:"110270361117",appId:"1:110270361117:web:304c337163371a2e8920f4"}),w=(0,y.getDatabase)(v),j=(0,m.getAuth)();j.currentUser;document.querySelector(".btn_read").addEventListener("click",(function(){const e=j.currentUser.uid,t=(0,y.ref)(w,"/users"+e);(0,y.onValue)(t,(e=>{const t=e.val();alert(t.shoppingList),console.log(t.shoppingList)}))}));const L=document.querySelector(".test-button");console.log(L);document.querySelector(".btn_update").addEventListener("click",(function(){const e=j.currentUser.uid,t=(0,y.ref)(w,"/users"+e);(0,y.update)(t,{shoppingList:h.books}).then((()=>{alert("data updated")})).catch((e=>{alert(e)}))}));
//# sourceMappingURL=index.fb301131.js.map
