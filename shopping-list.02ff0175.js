function o(o,n,i,e){Object.defineProperty(o,n,{get:i,set:e,enumerable:!0,configurable:!0})}function n(o){return o&&o.__esModule?o.default:o}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},s={},t=i.parcelRequired7c6;null==t&&((t=function(o){if(o in e)return e[o].exports;if(o in s){var n=s[o];delete s[o];var i={id:o,exports:{}};return e[o]=i,n.call(i.exports,i,i.exports),i.exports}var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(o,n){s[o]=n},i.parcelRequired7c6=t),t.register("kyEFX",(function(n,i){var e,s;o(n.exports,"register",(function(){return e}),(function(o){return e=o})),o(n.exports,"resolve",(function(){return s}),(function(o){return s=o}));var t={};e=function(o){for(var n=Object.keys(o),i=0;i<n.length;i++)t[n[i]]=o[n[i]]},s=function(o){var n=t[o];if(null==n)throw new Error("Could not resolve bundle with id "+o);return n}})),t("kyEFX").register(JSON.parse('{"f9bx4":"shopping-list.02ff0175.js","lsblX":"shoppingList-clear--bg-x3.9bc44f3d.png","6WtvC":"dump.38fa3b97.svg","6bwFv":"shoppingList--bookShop.8363c1d3.png","lmhI2":"shoppingList--logoBook.5f2db3a0.png","bpnPT":"shoppingList--logoAmazon.9aa609d6.png","5UbS1":"index.4ebfcd8d.css","4l2W5":"index.92e8e1f6.js"}')),t("ioBS9"),t("75VGX");var l,r=t("bqQ6g");l=new URL(t("kyEFX").resolve("lsblX"),import.meta.url).toString();const a=new URL(l);var p;p=new URL(t("kyEFX").resolve("6WtvC"),import.meta.url).toString();const c=new URL(p);var g;g=new URL(t("kyEFX").resolve("6bwFv"),import.meta.url).toString();const d=new URL(g);var _;_=new URL(t("kyEFX").resolve("lmhI2"),import.meta.url).toString();const h=new URL(_);var u;u=new URL(t("kyEFX").resolve("bpnPT"),import.meta.url).toString();const f=new URL(u);function m(){return`<div class="shopping-list__clear">\n                <p class="shopping-list__clear--description" >This page is empty, add some books and proceed to order.</p>\n                <img class="shopping-list__clear-bg" src="${a}" alt="books">\n            </div>`}var b=t("4QRki");function v(o){if(o.target.closest(".shopping-list__icon-deleteBtn")===o.target){const n=o.target.attributes.id.nodeValue,i=JSON.parse(localStorage.getItem("idBooks")).filter((o=>o._id!==n));localStorage.setItem("idBooks",JSON.stringify(i)),(0,b.updateShoppingList)(),E()}}var k=t("ioBS9"),w=t("7Y9D8"),S=t("eyjy7"),y=t("8mXNj");b=t("4QRki");const L=new(0,r.BooksAPI),R=document.querySelector(".shopping-list__gallery-boocks");async function E(){try{const o=JSON.parse(localStorage.getItem("idBooks")),n=(await async function(o){try{if(!o)throw new Error;return await Promise.all(o.map((async o=>await L.getBookByID(o._id))))}catch(o){console.log(o)}}(o)).map((o=>o.data));if(0===o.length)return R.innerHTML=m();R.innerHTML=n.map((({_id:o,book_image:n,author:i,list_name:e,title:s,description:t,buy_links:l})=>`<li id="${o}" class="shopping-list__card-boock">\n                <div class="shopping-list__general-information">\n                    <div>\n                        <img class="shopping-list__img" src="${n}" alt="book image">\n                        <p class="shopping-list__author">${i}</p>\n                    </div>\n                        <div">\n                            <h2 class="shopping-list__title-book">${s}</h2>\n                            <h3 class="shopping-list__list-name">${e}</h3>\n                            <p class="shopping-list__description--near">${t}</p>\n                            <p class="shopping-list__author--near">${i}</p>\n                            <ul class="shopping-list__shop-list">\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${l[0].url}" target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoAmazon" src="${f}" alt="logoAmazon">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${l[1].url} " target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoBook" src="${h}" alt="logoBook">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${l[4].url} " target="_blank">\n                                        <img class="shopping-list__shop-lis--img bookShop" src="${d}" alt="bookShop">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img id="${o}" width="38" height="38" class="shopping-list__icon-deleteBtn" src="${c}" alt="icon-deleteBtn">\n                        </div>\n                        <p class="shopping-list__description">${t}</p>\n                    </div>\n                    </li>`)).join("");document.querySelector(".shopping-list__gallery-boocks").addEventListener("click",v)}catch(o){console.log(o)}}window.addEventListener("load",(()=>{(0,S.onAuthStateChanged)(y.auth,(o=>{if(o)return(0,k.stopPreloader)(),(0,b.readShoppingList)(),void E();(0,k.stopPreloader)(),n(w).Notify.info("Sign in to view your shopping list"),R.innerHTML=m()}))})),t("i0beZ"),t("4dIBK"),t("krGWQ"),t("dV7Gh"),t("5hJ2g");
//# sourceMappingURL=shopping-list.02ff0175.js.map
