!function(){function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){r[e]=n},t.parcelRequired7c6=s),s.register("iE7OH",(function(n,t){var o,r;e(n.exports,"register",(function(){return o}),(function(e){return o=e})),e(n.exports,"resolve",(function(){return r}),(function(e){return r=e}));var s={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)s[n[t]]=e[n[t]]},r=function(e){var n=s[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),s.register("aNJCr",(function(n,t){var o;e(n.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var n=r[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),r[e]=n),n}})),s("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.112e789f.js","5dzMn":"shoppingList-clear--bg-x1.15c3c113.png","aE6Dt":"shoppingList-clear--bg-x2.6292faab.png","4SLRF":"shoppingList-clear--bg-x3.9bc44f3d.png","66GWt":"shoppingList--logoAmazon--x1.b8fa90cb.png","gCoKM":"shoppingList--logoAmazon--x2.edefe29e.png","4H2RY":"shoppingList--logoAmazon--x3.0cbc25f5.png","lNgiy":"shoppingList--appleBook--x1.5a9f17e3.png","aaqSH":"shoppingList--appleBook--x2.54474d7d.png","ajUPX":"shoppingList--appleBook--x3.561659b0.png","hDndw":"shoppingList--bookShop--x1.91914384.png","5eFCc":"shoppingList--bookShop--x2.fbbde057.png","85BcA":"shoppingList--bookShop--x3.4cb7e5da.png","2Cals":"remove-book-btn.38fa3b97.svg","5UbS1":"index.88eb1a11.css","cfiU8":"index.8c875450.js"}')),s("4smAb"),s("18VO4");var i,a=s("bpxeT"),l=s("2TvXO"),c=s("gN0YP");i=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("5dzMn");var p,g=new URL(i);p=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("aE6Dt");var u,d=new URL(p);u=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("4SLRF");var _,h=new URL(u);_=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("66GWt");var f,v=new URL(_);f=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("gCoKM");var m,b=new URL(f);m=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("4H2RY");var S,H=new URL(m);S=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("lNgiy");var L,R=new URL(S);L=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("aaqSH");var k,w=new URL(L);k=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("ajUPX");var x,E=new URL(k);x=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("hDndw");var F,U=new URL(x);F=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("5eFCc");var B,O=new URL(F);B=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("85BcA");var N,y=new URL(B);N=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("2Cals");var A=new URL(N);function C(e){return e.map((function(e){var n=e._id,t=e.book_image,o=e.author,r=e.list_name,s=e.title,i=e.description,a=e.buy_links;return'<li id="'.concat(n,'" class="shopping-list__card-boock">\n                <div class="shopping-list__general-information">\n                    <div>\n                        <img class="shopping-list__img" src="').concat(t,'" alt="book image">\n                        <p class="shopping-list__author">').concat(o,'</p>\n                    </div>\n                        <div">\n                            <h2 class="shopping-list__title-book">').concat(s,'</h2>\n                            <h3 class="shopping-list__list-name">').concat(r,'</h3>\n                            <p class="shopping-list__description--near">').concat(i,'</p>\n                            <p class="shopping-list__author--near">').concat(o,'</p>\n                            <ul class="shopping-list__shop-list">\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[0].url,'" target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoAmazon" srcset="').concat(b," 2x, ").concat(H,' 3x" src="').concat(v,'" alt="logoAmazon">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[1].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoBook" srcset="').concat(w," 2x, ").concat(E,' 3x" src="').concat(R,'" alt="logoBook">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="').concat(a[4].url,' " target="_blank">\n                                        <img class="shopping-list__shop-lis--img bookShop" srcset="').concat(O," 2x, ").concat(y,' 3x" src="').concat(U,'" alt="bookShop">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img id="').concat(n,'" width="38" height="38" class="shopping-list__icon-deleteBtn" src="').concat(A,'" alt="icon-deleteBtn">\n                        </div>\n                        <p class="shopping-list__description">').concat(i,"</p>\n                    </div>\n                    </li>")})).join("")}function T(){return'<div class="shopping-list__clear">\n                <p class="shopping-list__clear--description" >This page is empty, add some books and proceed to order.</p>\n                <img class="shopping-list__clear-bg"  srcset="'.concat(d," 2x, ").concat(h,' 3x" src="').concat(g,'" alt="books">\n            </div>')}var j=s("bkYRy");function J(e){if(e.target.closest(".shopping-list__icon-deleteBtn")===e.target){var n=e.target.attributes.id.nodeValue,t=JSON.parse(localStorage.getItem("idBooks"));t.splice(t.indexOf(n),1),localStorage.setItem("idBooks",JSON.stringify(t)),(0,j.updateShoppingList)(),X()}}var K=s("4smAb"),P=s("6JpON"),q=s("gQOBw"),z=s("fOprm"),M=(j=s("bkYRy"),new(0,c.BooksAPI)),D=document.querySelector(".shopping-list__gallery-boocks");function I(e){return Y.apply(this,arguments)}function Y(){return Y=n(a)(n(l).mark((function e(t){var o;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(function(){var e=n(a)(n(l).mark((function e(t){return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getBookByID(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return o=e.sent,e.abrupt("return",o);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Y.apply(this,arguments)}function X(){return G.apply(this,arguments)}function G(){return(G=n(a)(n(l).mark((function e(){var t,o,r;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==(t=localStorage.getItem("idBooks"))&&t&&""!==t&&0!==JSON.parse(t).length){e.next=3;break}return e.abrupt("return",D.innerHTML=T());case 3:return e.prev=3,t=JSON.parse(t),e.next=7,I(t);case 7:o=e.sent,r=o.map((function(e){return e.data})),D.innerHTML=C(r),document.querySelector(".shopping-list__gallery-boocks").addEventListener("click",J),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}window.addEventListener("load",(function(){(0,q.onAuthStateChanged)(z.auth,(function(e){if(e)return(0,K.stopPreloader)(),(0,j.readShoppingList)(),void X();(0,K.stopPreloader)(),n(P).Notify.info("Sign in to view your shopping list"),D.innerHTML=T(),(0,K.stopPreloader)()}))}));var V=document.querySelector(".nav__link_home"),W=document.querySelector(".nav__link_shopping"),$=window.top.location.pathname;console.log($),"/index.html"===$||"/"===$?(V.classList.add("current__page"),W.classList.remove("current__page")):"/shopping-list.html"===$&&(W.classList.add("current__page__shop"),V.classList.remove("current__page")),s("68BsN"),s("bNmPK"),s("4Nugj"),s("4purq"),s("kRAXI")}();
//# sourceMappingURL=shopping-list.112e789f.js.map
