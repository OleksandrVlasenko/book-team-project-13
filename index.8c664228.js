function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n("ioBS9"),n("75VGX");var s=n("bqQ6g");function r(){const e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}async function i(e){return await e.data.map((({list_name:e})=>`<li class="category__home-itm" data-category="${e}">${e}</li>`)).join("")}async function c(e){return await Promise.all(e.map((async({list_name:e,books:t})=>` \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">${e}</h3> \n    <ul class='list-books__home'>${await async function(e){return"mobile"===r()?d(e.slice(0,1)):"tablet"===r()?d(await e.slice(0,3)):d(e)}(t)}</ul> \n    <button class="button see-more" data-js="${e}">See more</button> \n    </div> \n    `)))}async function l(e,t){const o=e.split(" ");return` \n  <h2 class="block__books-title">${o.splice(0,o.length/2).join(" ")} <span class="block__books-colortitle">${o.splice(o.length/2,o.length).join(" ")}</span></h2> \n        <ul class="block__books-list">${await d(t)}</ul>\n        <button class="button see-more all-categories__btn" data-js="All Categories">All Categories</button>`}async function d(e){return e.map((({author:e,book_image:t,title:o,description:a,_id:n})=>`<li class="books__itm">  \n    <div class="books__wrapper" id=${n} > \n    <img class="books__image" src="${t}"  alt="${a}" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">${o}</p>  \n    <p class="books__info-author">${e}</p>  \n    </div>  \n    </li>`)).join("")}async function u(e){document.querySelector(".js-current-category").classList.remove("js-current-category"),document.querySelector(`li[data-category="${e}"]`).classList.add("js-current-category")}var _=n("ioBS9"),f=n("7Y9D8");const b=document.querySelector(".block__books"),g=document.querySelector(".category__home"),m=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,s.BooksAPI));!async function(){try{const e=await m.getCategoryList();g.insertAdjacentHTML("beforeend",await i(e));document.querySelector("#preloader").style.zIndex="-1"}catch(t){e(f).Notify.failure(`Categories was not found : ${t.message}`)}try{const e=await m.getTopBooks();b.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),b.insertAdjacentHTML("beforeend",(await c(e.data)).join("")),(0,_.stopPreloader)(),e.data}catch(t){e(f).Notify.failure(`Books was not found : ${t.message}`),(0,_.stopPreloader)()}}(),g.addEventListener("click",(async function(t){if(t.preventDefault(),t.target.classList.contains("category__home-itm")){if(b.innerHTML="",b.insertAdjacentHTML("afterbegin",(0,_.addMarkupOfPreloader)()),(0,_.startPreloader)(),"All categories"===t.target.innerText){try{const e=await m.getTopBooks();b.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),b.insertAdjacentHTML("beforeend",(await c(e.data)).join("")),u(t.target.innerText),(0,_.stopPreloader)()}catch(t){e(f).Notify.failure(`Books was not found : ${t.message}`)}return}try{const e=await(await m.getOneCategory(`${t.target.innerText}`)).data;b.insertAdjacentHTML("beforeend",await l(`${t.target.innerText}`,e)),u(t.target.innerText),(0,_.stopPreloader)()}catch(t){e(f).Notify.failure(`Books was not found : ${t.message}`)}}})),b.addEventListener("click",(async function(t){if(t.preventDefault(),t.target.classList.contains("see-more")){const o=t.target.dataset.js;b.innerHTML="",b.insertAdjacentHTML("afterbegin",(0,_.addMarkupOfPreloader)()),(0,_.startPreloader)();try{const e=await(await m.getOneCategory(`${o}`)).data;b.insertAdjacentHTML("beforeend",await l(`${o}`,e)),u(`${o}`),(0,_.stopPreloader)()}catch(t){e(f).Notify.failure(`Books was not found : ${t.message}`)}}else if(t.target.classList.contains("all-categories__btn")){b.innerHTML="",b.insertAdjacentHTML("afterbegin",(0,_.addMarkupOfPreloader)()),(0,_.startPreloader)();try{const e=await m.getTopBooks();b.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),b.insertAdjacentHTML("beforeend",(await c(e.data)).join("")),(0,_.stopPreloader)(),u("All categories")}catch(t){e(f).Notify.failure(`Books was not found : ${t.message}`)}}})),n("i0beZ");const p=document.querySelector(".nav__link_home"),y=document.querySelector(".nav__link_shopping"),k=window.location.pathname;"/index.html"===k||"/"===k?p.classList.add("current__page"):"/shopping-list.html"===k&&y.classList.add("current__page");document.querySelector("[data-modal-open]"),document.querySelector("[data-modal-close]"),document.querySelector("[data-modal]"),document.querySelector(".book"),document.querySelector("#add");const h=document.querySelector(".under-btn-text");h.hidden=!0,n("krGWQ"),n("dV7Gh"),n("5hJ2g"),n("4dIBK"),n("4QRki");
//# sourceMappingURL=index.8c664228.js.map
