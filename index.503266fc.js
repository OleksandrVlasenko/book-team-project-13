!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequired7c6=a),a("4smAb"),a("18VO4");var o=a("bpxeT"),s=a("2TvXO"),c=a("gN0YP");o=a("bpxeT"),s=a("2TvXO");function i(){var t=document.documentElement.clientWidth;return t<767?"mobile":t<1439?"tablet":t>=1440?"desctop":void 0}function u(t){return l.apply(this,arguments)}function l(){return(l=t(o)(t(s).mark((function e(n){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.data.map((function(t){var e=t.list_name;return'<li class="category__home-itm">'.concat(e,"</li>")})).join("");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return(d=t(o)(t(s).mark((function e(n){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("mobile"!==i()){t.next=4;break}return t.abrupt("return",g(n.slice(0,1)));case 4:if("tablet"!==i()){t.next=12;break}return t.t0=g,t.next=8,n.slice(0,3);case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 12:return t.abrupt("return",g(n));case 13:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function f(t){return b.apply(this,arguments)}function b(){return b=t(o)(t(s).mark((function e(n){return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=t(o)(t(s).mark((function e(n){var r,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.list_name,a=n.books,t.t0=' \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">'.concat(r,"</h3> \n    <ul class='list-books__home'>"),t.next=4,p(a);case 4:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1,'</ul> \n    <button class="button see-more" data-js="').concat(r,'">See more</button> \n    </div> \n    '));case 6:case"end":return t.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function k(t,e){return m.apply(this,arguments)}function m(){return(m=t(o)(t(s).mark((function e(n,r){var a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.split(" "),t.t0=' \n  <h2 class="block__books-title">'.concat(a.splice(0,a.length/2).join(" "),' <span class="block__books-colortitle">').concat(a.splice(a.length/2,a.length).join(" "),'</span></h2> \n        <ul class="block__books-list">'),t.next=4,g(r);case 4:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1,"</ul>"));case 6:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function g(t){return h.apply(this,arguments)}function h(){return(h=t(o)(t(s).mark((function e(n){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.map((function(t){var e=t.author,n=t.book_image,r=t.title,a=t.description,o=t._id;return'<li class="books__itm">  \n    <div class="books__wrapper" id='.concat(o,' > \n    <img class="books__image" src="').concat(n,'"  alt="').concat(a,'" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">').concat(r,'</p>  \n    <p class="books__info-author">').concat(e,"</p>  \n    </div>  \n    </li>")})).join(""));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var v=a("4smAb"),_=document.querySelector(".block__books"),y=document.querySelector(".category__home"),x=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,c.BooksAPI));function w(){return(w=t(o)(t(s).mark((function e(){var n,r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getTopBooks();case 2:return n=t.sent,t.next=5,x.getCategoryList();case 5:if(r=t.sent,n.statusText){t.next=10;break}throw new Error(n.statusText);case 10:return t.t0=y,t.next=13,u(r);case 13:return t.t1=t.sent,t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),_.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),t.t2=_,t.next=19,f(n.data);case 19:return t.t3=t.sent.join(""),t.t2.insertAdjacentHTML.call(t.t2,"beforeend",t.t3),t.abrupt("return",n.data);case 22:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=t(o)(t(s).mark((function e(n){var r,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!n.target.classList.contains("category__home-itm")){t.next=25;break}return _.innerHTML="",_.insertAdjacentHTML("afterbegin",(0,v.addMarkupOfPreloader)()),(0,v.startPreloader)(),t.next=7,x.getOneCategory("".concat(n.target.innerText));case 7:return t.next=9,t.sent.data;case 9:return r=t.sent,t.next=12,x.getTopBooks();case 12:if(a=t.sent,"All categories"!==n.target.innerText){t.next=20;break}return _.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),t.t0=_,t.next=18,f(a.data);case 18:t.t1=t.sent.join(""),t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1);case 20:return t.t2=_,t.next=23,k("".concat(n.target.innerText),r);case 23:t.t3=t.sent,t.t2.insertAdjacentHTML.call(t.t2,"beforeend",t.t3);case 25:(0,v.stopPreloader)();case 26:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=t(o)(t(s).mark((function e(n){var r,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!n.target.classList.contains("see-more")){t.next=17;break}return r=n.target.dataset.js,_.innerHTML="",_.insertAdjacentHTML("afterbegin",(0,v.addMarkupOfPreloader)()),(0,v.startPreloader)(),t.next=8,x.getOneCategory("".concat(r));case 8:return t.next=10,t.sent.data;case 10:return a=t.sent,t.t0=_,t.next=14,k("".concat(r),a);case 14:t.t1=t.sent,t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),(0,v.stopPreloader)();case 17:case"end":return t.stop()}}),e)})))).apply(this,arguments)}!function(){w.apply(this,arguments)}(),y.addEventListener("click",(function(t){return j.apply(this,arguments)})),_.addEventListener("click",(function(t){return L.apply(this,arguments)})),a("68BsN"),a("4Nugj"),a("4purq");var T=a("4Nugj"),A=a("fOprm"),B=a("gQOBw");a("cokon");var E=(0,B.getAuth)();T.refs.submitBtn.addEventListener("click",(function(t){if(t.preventDefault(),T.refs.submitBtn.classList.contains("disabled")||T.refs.modalAuth.classList.add("is-hidden"),"Sign up"===T.refs.submitBtn.textContent){var e=document.getElementById("email").value,n=document.getElementById("password").value,r=document.getElementById("username").value;""!==e&&""!==n&&""!==r&&(0,A.signUp)(e,n,r)}else{var a=document.getElementById("email").value,o=document.getElementById("password").value;""!==a&&""!==o&&(0,A.signIn)(a,o)}})),T.refs.signOutBtn.addEventListener("click",(function(t){t.preventDefault(),(0,A.singOutFunction)()})),(0,B.onAuthStateChanged)(E,(function(t){if(t){console.log("registrated");t.uid}else console.log("not registrated")})),a("bNmPK");var M=a("fkNhc"),O=a("cokon"),S=(B=a("gQOBw"),a("byw7u")),I=(0,M.initializeApp)({apiKey:"AIzaSyAmjMPhgeiPnKuRTAY8vypkpT4j7HmPfug",authDomain:"fu11stack-book-project.firebaseapp.com",databaseURL:"https://fu11stack-book-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fu11stack-book-project",storageBucket:"fu11stack-book-project.appspot.com",messagingSenderId:"110270361117",appId:"1:110270361117:web:304c337163371a2e8920f4"}),P=(0,O.getDatabase)(I),H=(0,B.getAuth)();H.currentUser;document.querySelector(".btn_read").addEventListener("click",(function(){var t=H.currentUser.uid,e=(0,O.ref)(P,"/users"+t);(0,O.onValue)(e,(function(t){var e=t.val();alert(e.shoppingList),console.log(e.shoppingList)}))}));var q=document.querySelector(".test-button");console.log(q),document.querySelector(".btn_update").addEventListener("click",(function(){var t=H.currentUser.uid,e=(0,O.ref)(P,"/users"+t);(0,O.update)(e,{shoppingList:S.books}).then((function(){alert("data updated")})).catch((function(t){alert(t)}))}))}();
//# sourceMappingURL=index.503266fc.js.map
