{"mappings":"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","sources":["src/index.js","src/js/main_page/main_page.js","src/js/main_page/functions.js","src/js/main_page/media-width.js","src/js/popup-about-book.js","src/js/open-and-close-modal.js","src/js/header-current-page.js"],"sourcesContent":["import './js/preloader';\nimport './js/support-ukraine';\nimport './js/main_page/main_page';\nimport './js/toggle-color-theme';\nimport './js/header-current-page';\nimport './js/popup-about-book';\nimport './js/refs';\nimport './js/modal-auth/modal-window-authFirebase';\nimport './js/modal-auth/firebaseAuth';\nimport './js/menu';\nimport './js/modal-auth/firebaseDatabase';\nimport './js/open-and-close-modal';\n","import axios from \"axios\"\nimport { BooksAPI } from \"./fetch\";\nimport { makeCategoryPage } from \"./functions\";\nimport { murkupCategoryList } from \"./functions\";\nimport { murkup } from \"./functions\";\nimport { addMediaWidth } from \"./media-width\";\nimport {\n  startPreloader,\n  stopPreloader,\n  addMarkupOfPreloader,\n} from '../preloader';\nimport Notiflix from \"notiflix\";\nimport { currentCategoryTogle } from \"./functions\";\nimport {modalAboutBook} from \"../popup-about-book\"\n\n\n\n\nconst refBooks = document.querySelector('.block__books')\nconst refCategory = document.querySelector('.category__home')\nconst markupBook = document.querySelector('.block__category')\n\nconst bookCart = document.querySelector('.book-card__home')\n\nconst bookApi = new BooksAPI();\n\nonFirstload()\n\nasync function onFirstload() {\n  try {\n    const categoryApi = (await bookApi.getCategoryList());\n    refCategory.insertAdjacentHTML('beforeend', (await murkupCategoryList(categoryApi)));\n\n    const preloader = document.querySelector('#preloader');\n    preloader.style.zIndex = \"-1\";\n    \n\n  } catch (error) {\n    Notiflix.Notify.failure(`Categories was not found : ${error.message}`);\n  }\n  try {\n    const resp = (await bookApi.getTopBooks());\n    refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>');\n    refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\"));\n    stopPreloader();\n    return resp.data;\n  } catch (error) {\n    Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    stopPreloader();\n  }\n}\nrefCategory.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(el) {\n  el.preventDefault();\n\n  if (el.target.classList.contains(\"category__home-itm\")) {\n\n    refBooks.innerHTML = \"\";\n    //Add and start preloader\n    refBooks.insertAdjacentHTML(\n      'afterbegin',\n      addMarkupOfPreloader()\n    );\n    startPreloader();\n    //-----------------------\n    if (el.target.innerText === `All categories`) {\n      try {\n        const resp = (await bookApi.getTopBooks());\n        refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>')\n        refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\"));\n        currentCategoryTogle(el.target.innerText);\n        stopPreloader();\n      } catch (error) {\n        Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n      };\n      return;\n    } else {\n      try {\n        const data = await (await bookApi.getOneCategory(`${el.target.innerText}`)).data;\n        refBooks.insertAdjacentHTML('beforeend', await makeCategoryPage(`${el.target.innerText}`, data));\n        currentCategoryTogle(el.target.innerText)\n        stopPreloader();\n      } catch (error) {\n        Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n      };\n    }\n  };\n};\n\nrefBooks.addEventListener('click', onSeeMoreClick);\n\nasync function onSeeMoreClick(event) {\n  event.preventDefault();\n  //Перевірка для відкриття модалки\n  const currentEl = event.target.closest('.books__itm');\n  if (currentEl) {\n    const bookId = currentEl.attributes.id.value;\n    modalAboutBook(bookId);\n  }\n\n  if (event.target.classList.contains('see-more')) {\n    const requestedCategory = event.target.dataset.js;\n    refBooks.innerHTML = '';\n    //Add and start preloader\n    refBooks.insertAdjacentHTML('afterbegin', addMarkupOfPreloader());\n    startPreloader();\n    //------------------------\n    try {\n      const data = await (\n        await bookApi.getOneCategory(`${requestedCategory}`)\n      ).data;\n      refBooks.insertAdjacentHTML(\n        'beforeend',\n        await makeCategoryPage(`${requestedCategory}`, data)\n      );\n      currentCategoryTogle(`${requestedCategory}`);\n      stopPreloader();\n    } catch (error) {\n      Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    }\n  } else if (event.target.classList.contains('all-categories__btn')) {\n    refBooks.innerHTML = '';\n    //Add and start preloader\n    refBooks.insertAdjacentHTML('afterbegin', addMarkupOfPreloader());\n    startPreloader();\n    //------------------------\n    try {\n      const resp = await bookApi.getTopBooks();\n      refBooks.insertAdjacentHTML(\n        'afterbegin',\n        '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>'\n      );\n      refBooks.insertAdjacentHTML(\n        'beforeend',\n        (await murkup(resp.data)).join('')\n      );\n      stopPreloader();\n      currentCategoryTogle(`All categories`);\n    } catch (error) {\n      Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n    }\n  }\n};\n\n\n\n\n\n","import { addMediaWidth } from \"./media-width\";\n\nexport async function murkupCategoryList(fetch) {\n  return await fetch.data.map(({ list_name }) => { return `<li class=\"category__home-itm\" data-category=\"${list_name}\">${list_name}</li>` }).join('');\n}\n\nasync function sliceData(data) {\n\n  if (addMediaWidth() === \"mobile\") {\n    return makeListOfBooks(data.slice(0, 1))\n  } else if (addMediaWidth() === \"tablet\") {\n    return makeListOfBooks(await data.slice(0, 3))\n  } else {\n    return makeListOfBooks(data)\n  }\n}\n\nexport async function murkup(data) {\n\n  return await Promise.all(data.map(async ({ list_name, books }) => {\n    return ` \n    <div class=\"item-books__home\"> \n    <h3 class=\"js-book-categoty\">${list_name}</h3> \n    <ul class='list-books__home'>${await sliceData(books)}</ul> \n    <button class=\"button see-more\" data-js=\"${list_name}\">See more</button> \n    </div> \n    `;\n  }));\n}\n\n\nexport async function makeCategoryPage(category, data) {\n\n  const title = category.split(\" \");\n  return ` \n  <h2 class=\"block__books-title\">${title.splice(0, (title.length / 2)).join(' ')} <span class=\"block__books-colortitle\">${title.splice((title.length / 2), title.length).join(' ')}</span></h2> \n        <ul class=\"block__books-list\">${await makeListOfBooks(data)}</ul>\n        <button class=\"button see-more all-categories__btn\" data-js=\"All Categories\">All Categories</button>`\n\n};\n\nexport async function makeListOfBooks(data) {\n\n  return data.map(({ author, book_image, title, description, _id }) => {\n    return `<li class=\"books__itm\" id=${_id} >  \n    <div class=\"books__wrapper\"> \n    <img class=\"books__image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\"  /> \n    <div class=\"books__overlay\"> \n    <p class=\"books__overlay-text\">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class=\"books__info\">  \n    <p class=\"books__info-title\">${title}</p>  \n    <p class=\"books__info-author\">${author}</p>  \n    </div>  \n    </li>`;\n  }\n  ).join('');\n};\n\nexport async function currentCategoryTogle(value) {\n  document.querySelector('.js-current-category').classList.remove(`js-current-category`);\n  document.querySelector(`li[data-category=\"${value}\"]`).classList.add(`js-current-category`);\n};","\n\n\n\nexport function addMediaWidth() { \n    const checkedWidts = document.documentElement.clientWidth\n    \n    if (checkedWidts < 767) {\n        \n        return \"mobile\"\n    } if (checkedWidts < 1279) { \n        return \"tablet\"\n    } if (checkedWidts >= 1280) { \n        return \"desctop\"\n    }\n}\n\n// addMediaWidth()\n\n\n// export default {addMediaWidth }","import { onOpenPoPUpModal } from './open-and-close-modal';\nimport Notiflix from 'notiflix';\nimport { BooksAPI } from './main_page/fetch';\nimport { updateShoppingList } from './modal-auth/firebaseDatabase';\nimport {auth} from \"./modal-auth/firebaseFunction\"\nconsole.log(\"auth:\", auth)\n\nconst bookApi = new BooksAPI();\n\nconst bookIMG = document.querySelector('.popup__book-image');\nconst bookTitle = document.querySelector('.popup__book_title');\nconst bookAuthor = document.querySelector('.popup__book_author');\nconst bookReview = document.querySelector('.popup__book_review');\nconst linkAmazon = document.querySelector('.popup__shopping-links-icon.amazon');\nconst linkBook = document.querySelector('.popup__shopping-links-icon.book');\nconst linkBookShop = document.querySelector(\n  '.popup__shopping-links-icon.bookShop'\n);\nconst btn = document.querySelector('#add');\nconst congratMessage = document.querySelector('.under-btn-text');\ncongratMessage.hidden = true;\n\nbtn.addEventListener('click', addOrRemoveBook);\n\nexport async function modalAboutBook(bookId) {\n  try {\n    const { data: book } = await bookApi.getBookByID(`${bookId}`);\n    console.log('modalAboutBook  book:', book);\n\n    checkLocalStorage(book);\n\n    bookIMG.attributes.src.value = book.book_image;\n    bookTitle.textContent = book.title;\n    bookAuthor.textContent = book.author;\n    bookReview.textContent = book.description;\n    linkAmazon.attributes.href.value = book.buy_links[0].url;\n    linkBook.attributes.href.value = book.buy_links[1].url;\n    linkBookShop.attributes.href.value = book.buy_links[4].url;\n\n    onOpenPoPUpModal();\n  } catch (error) {\n    Notiflix.Notify.failure(`Books was not found : ${error.message}`);\n  }\n}\n\nfunction addOrRemoveBook(e) {\n  console.log('addOrRemoveBook  e:', e.target);\n  const id = e.target.attributes.id.value;\n  // btn.textContent =\n  //   btn.textContent === 'Add to shopping list'\n  //     ? 'Remove from the shopping list'\n  //     : 'Add to shopping list';\n  if (btn.textContent === 'Add to shopping list') {\n    addBook(id);\n  } else {\n    removeBook(id);\n  }\n}\n\nfunction addBook(id) {\n  let idBooks = JSON.parse(localStorage.getItem(`idBooks`));\n  console.log('addBook  idBooks:', idBooks);\n\n  if (!idBooks) {\n    idBooks = [];\n  }\n  idBooks.push(id);\n  localStorage.setItem(`idBooks`, JSON.stringify(idBooks));\n  btn.textContent = 'Remove from the shopping list';\n  congratMessage.hidden = false;\n  if (auth.currentUser) {\n    updateShoppingList();\n  }\n}\n\nfunction removeBook(id) {\n  let idBooks = JSON.parse(localStorage.getItem(`idBooks`));\n  console.log('addBook  idBooks:', idBooks);\n\n  idBooks.splice(idBooks.indexOf(id), 1);\n  localStorage.setItem(`idBooks`, JSON.stringify(idBooks));\n  btn.textContent = 'Add to shopping list';\n  congratMessage.hidden = true;\n  if (auth.currentUser) {\n    updateShoppingList();\n  }\n}\n\nfunction checkLocalStorage(book) {\n  let contantLS = localStorage.getItem(`idBooks`);\n\n  if (!contantLS || contantLS === '' || !contantLS.includes(book._id)) {\n    btn.textContent = 'Add to shopping list';\n  } else {\n    btn.textContent = 'Remove from the shopping list';\n    congratMessage.hidden = false;\n  }\n  btn.attributes.id.value = book._id;\n}\n","export function onOpenPoPUpModal() {\n  const backdrop = document.querySelector('[data-modal]');\n  backdrop.classList.add('is-active');\n  document.body.classList.add('no-scroll');\n\n  backdrop.addEventListener('click', onCloseModalByClicking);\n  document.body.addEventListener('keyup', onCloseModalByKey);\n}\n\nfunction onCloseModalByClicking(e) {\n  const backdrop = document.querySelector('[data-modal]');\n  const modalWindow = document.querySelector('[modal-window]');\n  const closeBtn = document.querySelector('[data-modal-close]');\n  withinBoundaries = e.composedPath().includes(modalWindow);\n\n  if (\n    !withinBoundaries ||\n    e.target.closest('[data-modal-close]') === closeBtn\n  ) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', onCloseModalByClicking);\n    document.body.removeEventListener('keyup', onCloseModalByKey);\n  }\n}\n\nfunction onCloseModalByKey(e) {\n  const backdrop = document.querySelector('[data-modal]');\n\n  const key = e.keyCode;\n  if (key == 27) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', onCloseModalByClicking);\n    document.body.removeEventListener('keyup', onCloseModalByKey);\n  }\n}\n","import { signUp, signIn, singOutFunction } from './modal-auth/firebaseFunction';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nconst homePg = document.querySelector('.nav__link_home');\nconst shopList = document.querySelector('.nav__link_shopping');\n// console.log(shopList);\nconst btnWr = document.querySelector('.auth-btns__wrapper');\n\nconst liEl = document.querySelector('.nav__item');\n\nconst currentPath = window.location.pathname;\n\n// if (currentPath === '/index.html') {\n//   console.log(currentPath);\n//   homePg.classList.add('current__page');\n// } else if (currentPath === '/') {\n//   homePg.classList.add('current__page');\n// } else if (currentPath === '/shopping-list.html') {\n//   shopList.classList.add('current__page');\n// }\n\nif (currentPath === '/index.html' || currentPath === 'src/') {\n  console.log(currentPath);\n  homePg.classList.add('current__page');\n} else if (currentPath === '/shopping-list.html') {\n  console.log(currentPath);\n  shopList.classList.add('current__page');\n  homePg.classList.remove('current__page');\n}\n\n// ////////////////////////\nconst auth = getAuth();\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    // console.log('registrated');\n    //     // User is signed in, see docs for a list of available properties\n    //     // https://firebase.google.com/docs/reference/js/firebase.User\n    //     const uid = user.uid;\n    //     // ...\n    btnWr.classList.remove('is-hidden');\n    shopList.classList.remove('is-hidden');\n    homePg.classList.remove('is-hidden');\n    localStorage.setItem(\n      'user-data',\n      JSON.stringify({\n        id: user.uid,\n        name: user.displayName,\n        mail: user.email,\n      })\n    );\n  } else {\n    // console.log('not registrated');\n    btnWr.classList.remove('is-hidden');\n    shopList.classList.add('is-hidden');\n    // liEl.classList.add('is-hidden');\n    homePg.classList.add('is-hidden');\n    localStorage.removeItem('user-data');\n  }\n});\n"],"names":["parcelRequire","$bpxeT","$975bf03c6003bc7e$export$a09a7dc423207a75","checkedWidts","document","documentElement","clientWidth","$c6c73b43bbd33792$export$af76976bfd573c60","fetch","$c6c73b43bbd33792$var$_murkupCategoryList","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","map","param","list_name","concat","join","$c6c73b43bbd33792$var$sliceData","$c6c73b43bbd33792$var$_sliceData","$c6c73b43bbd33792$export$21c7b1be35f5970e","slice","_ctx","t0","t1","$c6c73b43bbd33792$export$10f346b5617a8f5c","$c6c73b43bbd33792$var$_murkup","_callee1","Promise","all","books","call","$c6c73b43bbd33792$export$ef55d93817bcd964","category","$c6c73b43bbd33792$var$_makeCategoryPage","title","split","splice","length","$c6c73b43bbd33792$var$_makeListOfBooks","author","book_image","description","_id","$c6c73b43bbd33792$export$3e6ec7cb67a0de61","value","$c6c73b43bbd33792$var$_currentCategoryTogle","querySelector","classList","remove","add","$09a933b02c7f1545$export$122d1ca44f7cd23","backdrop","body","addEventListener","$09a933b02c7f1545$var$onCloseModalByClicking","$09a933b02c7f1545$var$onCloseModalByKey","e","modalWindow","closeBtn","withinBoundaries","composedPath","includes","target","closest","removeEventListener","keyCode","console","log","$fOprm","auth","$021045d0d0db9a4c$var$bookApi","$gN0YP","BooksAPI","$021045d0d0db9a4c$var$bookIMG","$021045d0d0db9a4c$var$bookTitle","$021045d0d0db9a4c$var$bookAuthor","$021045d0d0db9a4c$var$bookReview","$021045d0d0db9a4c$var$linkAmazon","$021045d0d0db9a4c$var$linkBook","$021045d0d0db9a4c$var$linkBookShop","$021045d0d0db9a4c$var$btn","$021045d0d0db9a4c$var$congratMessage","$021045d0d0db9a4c$export$b850fcf839b15525","bookId","$021045d0d0db9a4c$var$_modalAboutBook","ref","book","getBookByID","sent","$021045d0d0db9a4c$var$checkLocalStorage","attributes","src","textContent","href","buy_links","url","$6JpON","Notify","failure","message","contantLS","localStorage","getItem","hidden","id","idBooks","JSON","parse","push","setItem","stringify","currentUser","$bkYRy","updateShoppingList","$021045d0d0db9a4c$var$addBook","indexOf","$021045d0d0db9a4c$var$removeBook","$80aa2cf59d795a91$var$refBooks","$80aa2cf59d795a91$var$refCategory","$80aa2cf59d795a91$var$bookApi","$80aa2cf59d795a91$var$_onFirstload","categoryApi","resp","getCategoryList","insertAdjacentHTML","style","zIndex","t2","getTopBooks","t3","t4","$4smAb","stopPreloader","t5","$80aa2cf59d795a91$var$_onCategoryClick","el","preventDefault","contains","innerHTML","addMarkupOfPreloader","startPreloader","innerText","getOneCategory","$80aa2cf59d795a91$var$_onSeeMoreClick","event","currentEl","requestedCategory","dataset","js","$80aa2cf59d795a91$var$onFirstload","$dd0cbade5af6bd55$var$homePg","$dd0cbade5af6bd55$var$shopList","$dd0cbade5af6bd55$var$btnWr","$dd0cbade5af6bd55$var$currentPath","window","location","pathname","$dd0cbade5af6bd55$var$auth","$gQOBw","getAuth","onAuthStateChanged","user","uid","name","displayName","mail","email","removeItem"],"version":3,"file":"index.0f47a20f.js.map"}