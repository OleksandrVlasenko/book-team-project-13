{"mappings":"oeAAAA,EAAA,SCAO,MCEDC,EAAU,IAAI,EAFpBD,EAAA,SAEoBE,UAEdC,EAAiBC,SAASC,cAAc,kCAC9CC,QAAQC,IAAIJ,GAEZ,MAAMK,EDPe,CACnB,CACEC,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,4BAET,CACEA,IAAO,6BCNXC,aAAaC,QAAQ,UAAWC,KAAKC,UAAUL,IAE/C,MAAMM,EAAUF,KAAKG,MAAML,aAAaM,QAAQ,YA2EhDC,OAAOC,iBAAiB,OAfxBC,iBACI,MACMC,SA3DVD,iBACI,IACI,MAAME,QAAcC,QAAQC,IAAIT,EAAQU,KAAIL,MAAMM,SAAYxB,EAAQyB,YAAYD,EAAGhB,QAEjF,OADAH,QAAQC,IAAIc,GACLA,C,CACT,MAAOM,GACLrB,QAAQC,IAAIoB,E,EAoDAC,IACDJ,KAAIK,GAAQA,EAAKT,OAChCd,QAAQC,IAAIa,GAChB,IAEI,OAA0B,IADPR,KAAKG,MAAML,aAAaM,QAAQ,YACpCc,OACJ3B,EAAe4B,UAbtB,0NAeG5B,EAAe4B,gBAxDFF,EAwDuCT,EAtDhDS,EAAKL,KAAI,EAACf,IAAEA,EAAGuB,WAAEA,EAAUC,OAAEA,EAAMC,UAAEA,EAASC,MAAEA,EAAKC,YAAEA,EAAWC,UAAEA,KACpE,YAAY5B,yLAG4BuB,8EACJC,mHAGKE,oEACDD,yMAGcG,EAAU,GAAGC,0TAKbD,EAAU,GAAGC,uTAKbD,EAAU,GAAGC,yiBAYlCF,8BAC9BG,KAAK,I,CAoBrB,MAAOZ,GACLrB,QAAQC,IAAIoB,E,CA1DpB,IAA4BE,C,CA8DIW","sources":["src/shopping-list.js","src/js/backend-books.js","src/js/shopping-list.js"],"sourcesContent":["import './js/support-ukraine';\nimport './js/shopping-list';","export const books = [\n  {\n    \"_id\": \"643282b1e85766588626a07f\",\n  },\n  {\n    \"_id\": \"643282b1e85766588626a0be\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a108\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a128\",\n  },\n  {\n    \"_id\": \"643282b2e85766588626a14a\",\n  },\n]","import { BooksAPI } from \"./main_page/fetch\";\nimport { books } from \"./backend-books\";\nconst getBook = new BooksAPI();\n\nconst galleryBooksEl = document.querySelector(`.shopping-list__gallery-boocks`);\nconsole.log(galleryBooksEl)\n\nconst objBooks = books;    \nlocalStorage.setItem(`idBooks`, JSON.stringify(objBooks));\n\nconst IdBooks = JSON.parse(localStorage.getItem(`idBooks`));\n    \n    \nasync function fetchBookByID() {\n    try {\n        const books = await Promise.all(IdBooks.map(async id => await getBook.getBookByID(id._id)));\n            console.log(books)\n            return books;\n        } catch (error) {\n            console.log(error);\n        }\n}\n    \nfunction renderShoppingList(book) {\n        \n            return book.map(({ _id, book_image, author, list_name, title, description, buy_links }) => {\n            return `<div id=\"${_id}\" class=\"shopping-list__card-boock\">\n            <div class=\"shopping-list__general-information\">\n                <div >\n                    <img class=\"shopping-list__img\" src=\"${book_image}\" alt=\"book image\">\n                    <p class=\"shopping-list__author\">${author}</p>\n                </div>\n                <div>\n                    <h2 class=\"shopping-list__title-book\">${title}</h2>\n                    <h3 class=\"shopping-list__list-name\">${list_name}</h3>\n                <ul class=\"shopping-list__shop-list\">\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[0].url}\" target=\"_blank\">\n                            <img src=\"./images/shoppingList--logoAmazon.png\" alt=\"logoAmazon\">\n                        </a>\n                    </li>\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[1].url} \" target=\"_blank\">\n                            <img src=\"./images/shoppingList--logoBook.png\" alt=\"logoBook\">\n                        </a>\n                    </li>\n                    <li class=\"shopping-list__shop-list-item\">\n                        <a class=\"shopping-list__shop-list-link\" href=\"${buy_links[4].url} \" target=\"_blank\">\n                            <img src=\"./images/shoppingList--bookShop.png\" alt=\"bookShop\">\n                        </a>\n                    </li>\n                </ul>\n                </div>                           \n                    <svg class=\"shopping-list__icon-deleteBtn\" width=\"28\" height=\"28\">\n                        <use href=\"./images/dump.svg\"></use>\n                    </svg>            \n                <div>\n            </div>\n            </div>\n            <p class=\"shopping-list__description\">${description}</p>\n            </div>`}).join(\"\");\n}\n\nfunction renderClearShoppingList() {\n    return  `<div class=\"shopping-list__clear\">\n                <p>This page is empty, add some books and proceed to order.</p>\n                <img src=\"./images/shoppingList-clear--bg-x2.png\" alt=\"books\">\n            </div>`;\n}\n\nasync function renderCardOfBooks() {\n    const books = await fetchBookByID();\n    const data = books.map(book => book.data)\n        console.log(data)\n    try {\n        const getIdBooks = JSON.parse(localStorage.getItem(`idBooks`));\n        if (getIdBooks.length === 0) {\n            return galleryBooksEl.innerHTML = renderClearShoppingList();\n        }\n        return galleryBooksEl.innerHTML = await renderShoppingList(data);\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nwindow.addEventListener(\"load\", renderCardOfBooks());\n"],"names":["parcelRequire","$e5c62ffd1c5d842f$var$getBook","BooksAPI","$e5c62ffd1c5d842f$var$galleryBooksEl","document","querySelector","console","log","$e5c62ffd1c5d842f$var$objBooks","_id","localStorage","setItem","JSON","stringify","$e5c62ffd1c5d842f$var$IdBooks","parse","getItem","window","addEventListener","async","data","books1","Promise","all","map","id","getBookByID","error","$e5c62ffd1c5d842f$var$fetchBookByID","book","length","innerHTML","book_image","author","list_name","title","description","buy_links","url","join","$e5c62ffd1c5d842f$var$renderCardOfBooks"],"version":3,"file":"shopping-list.a0731cce.js.map"}