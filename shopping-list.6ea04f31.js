function o(o,e,n,t){Object.defineProperty(o,e,{get:n,set:t,enumerable:!0,configurable:!0})}function e(o){return o&&o.__esModule?o.default:o}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},i=n.parcelRequired7c6;null==i&&((i=function(o){if(o in t)return t[o].exports;if(o in s){var e=s[o];delete s[o];var n={id:o,exports:{}};return t[o]=n,e.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(o,e){s[o]=e},n.parcelRequired7c6=i),i.register("kyEFX",(function(e,n){var t,s;o(e.exports,"register",(function(){return t}),(function(o){return t=o})),o(e.exports,"resolve",(function(){return s}),(function(o){return s=o}));var i={};t=function(o){for(var e=Object.keys(o),n=0;n<e.length;n++)i[e[n]]=o[e[n]]},s=function(o){var e=i[o];if(null==e)throw new Error("Could not resolve bundle with id "+o);return e}})),i("kyEFX").register(JSON.parse('{"f9bx4":"shopping-list.6ea04f31.js","05bC2":"shoppingList-clear--bg-x1.15c3c113.png","lCTHN":"shoppingList-clear--bg-x2.6292faab.png","lsblX":"shoppingList-clear--bg-x3.9bc44f3d.png","7vqc4":"shoppingList--logoAmazon--x1.b8fa90cb.png","5HsEb":"shoppingList--logoAmazon--x2.edefe29e.png","fSxxN":"shoppingList--logoAmazon--x3.0cbc25f5.png","Ydit4":"shoppingList--appleBook--x1.5a9f17e3.png","1d1ud":"shoppingList--appleBook--x2.54474d7d.png","fP1ey":"shoppingList--appleBook--x3.561659b0.png","jYlIr":"shoppingList--bookShop--x1.91914384.png","aFXrP":"shoppingList--bookShop--x2.fbbde057.png","96ecP":"shoppingList--bookShop--x3.4cb7e5da.png","eTFW8":"remove-book-btn.38fa3b97.svg","5UbS1":"index.26f5a8a2.css","4l2W5":"index.7958f60b.js"}')),i("ioBS9"),i("75VGX");var r,l=i("bqQ6g");r=new URL(i("kyEFX").resolve("05bC2"),import.meta.url).toString();const a=new URL(r);var p;p=new URL(i("kyEFX").resolve("lCTHN"),import.meta.url).toString();const c=new URL(p);var g;g=new URL(i("kyEFX").resolve("lsblX"),import.meta.url).toString();const _=new URL(g);var d;d=new URL(i("kyEFX").resolve("7vqc4"),import.meta.url).toString();const h=new URL(d);var u;u=new URL(i("kyEFX").resolve("5HsEb"),import.meta.url).toString();const f=new URL(u);var m;m=new URL(i("kyEFX").resolve("fSxxN"),import.meta.url).toString();const b=new URL(m);var v;v=new URL(i("kyEFX").resolve("Ydit4"),import.meta.url).toString();const k=new URL(v);var S;S=new URL(i("kyEFX").resolve("1d1ud"),import.meta.url).toString();const L=new URL(S);var w;w=new URL(i("kyEFX").resolve("fP1ey"),import.meta.url).toString();const R=new URL(w);var y;y=new URL(i("kyEFX").resolve("jYlIr"),import.meta.url).toString();const H=new URL(y);var E;E=new URL(i("kyEFX").resolve("aFXrP"),import.meta.url).toString();const x=new URL(E);var F;F=new URL(i("kyEFX").resolve("96ecP"),import.meta.url).toString();const U=new URL(F);var $;$=new URL(i("kyEFX").resolve("eTFW8"),import.meta.url).toString();const A=new URL($);function X(){return`<div class="shopping-list__clear">\n                <p class="shopping-list__clear--description" >This page is empty, add some books and proceed to order.</p>\n                <img class="shopping-list__clear-bg"  srcset="${c} 2x, ${_} 3x" src="${a}" alt="books">\n            </div>`}var B=i("4QRki");function N(o){if(o.target.closest(".shopping-list__icon-deleteBtn")===o.target){const e=o.target.attributes.id.nodeValue,n=JSON.parse(localStorage.getItem("idBooks"));n.splice(n.indexOf(e),1),localStorage.setItem("idBooks",JSON.stringify(n)),(0,B.updateShoppingList)(),C()}}var O=i("ioBS9"),P=i("7Y9D8"),T=i("eyjy7"),j=i("8mXNj");B=i("4QRki");const q=new(0,l.BooksAPI),I=document.querySelector(".shopping-list__gallery-boocks");async function C(){let o=localStorage.getItem("idBooks");if("undefined"===o||!o||""===o||0===JSON.parse(o).length)return I.innerHTML=X();try{o=JSON.parse(o);const e=(await async function(o){try{return await Promise.all(o.map((async o=>await q.getBookByID(o))))}catch(o){console.log(o)}}(o)).map((o=>o.data));I.innerHTML=e.map((({_id:o,book_image:e,author:n,list_name:t,title:s,description:i,buy_links:r})=>`<li id="${o}" class="shopping-list__card-boock">\n                <div class="shopping-list__general-information">\n                    <div>\n                        <img class="shopping-list__img" src="${e}" alt="book image">\n                        <p class="shopping-list__author">${n}</p>\n                    </div>\n                        <div">\n                            <h2 class="shopping-list__title-book">${s}</h2>\n                            <h3 class="shopping-list__list-name">${t}</h3>\n                            <p class="shopping-list__description--near">${i}</p>\n                            <p class="shopping-list__author--near">${n}</p>\n                            <ul class="shopping-list__shop-list">\n                                <li class="shopping-list__shop-list-item">\n                                    <a aria-label="Link to shop" rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${r[0].url}" target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoAmazon" srcset="${f} 2x, ${b} 3x" src="${h}" alt="logoAmazon">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a aria-label="Link to shop" rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${r[1].url} " target="_blank">\n                                        <img class="shopping-list__shop-lis--img logoBook" srcset="${L} 2x, ${R} 3x" src="${k}" alt="logoBook">\n                                    </a>\n                                </li>\n                                <li class="shopping-list__shop-list-item">\n                                    <a aria-label="Link to shop" rel="noreferrer noopener nofollow" class="shopping-list__shop-list-link" href="${r[4].url} " target="_blank">\n                                        <img class="shopping-list__shop-lis--img bookShop" srcset="${x} 2x, ${U} 3x" src="${H}" alt="bookShop">\n                                    </a>\n                                </li>\n                            </ul>\n                            <img id="${o}" width="38" height="38" class="shopping-list__icon-deleteBtn" src="${A}" alt="icon-deleteBtn">\n                        </div>\n                        <p class="shopping-list__description">${i}</p>\n                    </div>\n                    </li>`)).join("");document.querySelector(".shopping-list__gallery-boocks").addEventListener("click",N)}catch(o){console.log(o)}}window.addEventListener("load",(()=>{(0,T.onAuthStateChanged)(j.auth,(o=>{if(o)return(0,O.stopPreloader)(),(0,B.readShoppingList)(),void C();(0,O.stopPreloader)(),e(P).Notify.info("Sign in to view your shopping list"),I.innerHTML=X()}))}));const J=document.querySelector(".nav__link_home"),z=document.querySelector(".nav__link_shopping"),M=window.top.location.pathname;"/book-team-project-13/shopping-list.html"===M||"/"===M||"/shopping-list.html"===M?(J.classList.remove("current__page"),z.classList.add("current__page__shop")):"/index.html"===M&&(z.classList.remove("current__page__shop"),J.classList.add("current__page")),i("i0beZ"),i("4dIBK"),i("krGWQ"),i("dV7Gh"),i("5hJ2g");
//# sourceMappingURL=shopping-list.6ea04f31.js.map
