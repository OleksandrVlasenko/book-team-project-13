var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},e.parcelRequired7c6=n),n("ioBS9"),n("75VGX");var a=n("bqQ6g");function i(){const e=document.documentElement.clientWidth;return e<767?"mobile":e<1439?"tablet":e>=1440?"desctop":void 0}async function o(e){return await e.data.map((({list_name:e})=>`<li class="category__home-itm">${e}</li>`)).join("")}async function r(e){return await Promise.all(e.map((async({list_name:e,books:t})=>` \n    <div class="item-books__home"> \n    <h3 class="js-book-categoty">${e}</h3> \n    <ul class='list-books__home'>${await async function(e){return"mobile"===i()?c(e.slice(0,1)):"tablet"===i()?c(await e.slice(0,3)):c(e)}(t)}</ul> \n    <button class="button see-more" data-js="${e}">See more</button> \n    </div> \n    `)))}async function l(e,t){const s=e.split(" ");return` \n  <h2 class="block__books-title">${s.splice(0,s.length/2).join(" ")} <span class="block__books-colortitle">${s.splice(s.length/2,s.length).join(" ")}</span></h2> \n        <ul class="block__books-list">${await c(t)}</ul>`}async function c(e){return e.map((({author:e,book_image:t,title:s,description:n,_id:a})=>`<li class="books__itm">  \n    <div class="books__wrapper" id=${a} > \n    <img class="books__image" src="${t}"  alt="${n}" loading="lazy"  /> \n    <div class="books__overlay"> \n    <p class="books__overlay-text"></p> \n    </div> \n    </div> \n    <div class="books__info">  \n    <p class="books__info-title">${s}</p>  \n    <p class="books__info-author">${e}</p>  \n    </div>  \n    </li>`)).join("")}var d=n("ioBS9");const u=document.querySelector(".block__books"),f=document.querySelector(".category__home"),m=(document.querySelector(".block__category"),document.querySelector(".book-card__home"),new(0,a.BooksAPI));function b(){p.refs.modalAuth.classList.toggle("is-hidden")}!async function(){const e=await m.getTopBooks(),t=await m.getCategoryList();if(e.statusText)return f.insertAdjacentHTML("beforeend",await o(t)),u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(e.data)).join("")),e.data;throw new Error(e.statusText)}(),f.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("category__home-itm")){u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const t=await(await m.getOneCategory(`${e.target.innerText}`)).data,s=await m.getTopBooks();"All categories"===e.target.innerText&&(u.insertAdjacentHTML("afterbegin",'<h2 class="block__books-title">Best Sellers<span class="block__books-colortitle"> Books</span></h2>'),u.insertAdjacentHTML("beforeend",(await r(s.data)).join(""))),u.insertAdjacentHTML("beforeend",await l(`${e.target.innerText}`,t))}(0,d.stopPreloader)()})),u.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.classList.contains("see-more")){const t=e.target.dataset.js;console.dir(t),u.innerHTML="",u.insertAdjacentHTML("afterbegin",(0,d.addMarkupOfPreloader)()),(0,d.startPreloader)();const s=await(await m.getOneCategory(`${t}`)).data;u.insertAdjacentHTML("beforeend",await l(`${t}`,s)),(0,d.stopPreloader)()}})),n("i0beZ"),n("krGWQ"),(p=n("krGWQ")).refs.openAuthBtn.addEventListener("click",b),p.refs.closeAutBtn.addEventListener("click",b),p.refs.formAuth.addEventListener("input",(()=>{"Sign up"===p.refs.submitBtn.textContent?""!==p.refs.formAuth.elements.mail.value&&""!==p.refs.formAuth.elements.name.value&&""!==p.refs.formAuth.elements.password.value?p.refs.submitBtn.classList.remove("disabled"):p.refs.submitBtn.classList.add("disabled"):""!==p.refs.formAuth.elements.mail.value&&""!==p.refs.formAuth.elements.password.value?p.refs.submitBtn.classList.remove("disabled"):p.refs.submitBtn.classList.add("disabled")})),p.refs.signInBtn.addEventListener("click",(function(){p.refs.signUpBtn.classList.remove("active"),p.refs.signInBtn.classList.add("active"),p.refs.submitBtn.textContent="Sign in",p.refs.formInputs.innerHTML=""})),p.refs.signUpBtn.addEventListener("click",(function(){p.refs.signInBtn.classList.remove("active"),p.refs.signUpBtn.classList.add("active"),p.refs.submitBtn.textContent="Sign up",p.refs.formInputs.innerHTML='<div class="form__field">\n          <input\n            id="username"\n            type="text"\n            class="form__input form__input-name"\n            name="name"\n            pattern="^[A-Za-z][A-Za-z0-9_]{3,10}$"\n            required\n          />\n          <label for="name" class="form__label form__label-name">Name</label>\n        </div>'})),p.refs.inputName.addEventListener("input",(function(){p.refs.inputName.value?p.refs.labelName.classList.add("checked"):p.refs.labelName.classList.remove("checked")})),p.refs.inputMail.addEventListener("input",(function(){p.refs.inputMail.value?p.refs.labelMail.classList.add("checked"):p.refs.labelMail.classList.remove("checked")})),p.refs.inputPassword.addEventListener("input",(function(){p.refs.inputPassword.value?p.refs.labelPassword.classList.add("checked"):p.refs.labelPassword.classList.remove("checked")}));var p=n("krGWQ"),g=n("8mXNj"),_=n("eyjy7");n("jAzyG");const v=(0,_.getAuth)();p.refs.submitBtn.addEventListener("click",(e=>{if(e.preventDefault(),p.refs.submitBtn.classList.contains("disabled")||p.refs.modalAuth.classList.add("is-hidden"),"Sign up"===p.refs.submitBtn.textContent){const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password"),{value:s}=document.getElementById("username");""!==e&&""!==t&&""!==s&&(0,g.signUp)(e,t,s)}else{const{value:e}=document.getElementById("email"),{value:t}=document.getElementById("password");""!==e&&""!==t&&(0,g.signIn)(e,t)}})),p.refs.signOutBtn.addEventListener("click",(e=>{e.preventDefault(),(0,g.singOutFunction)()})),(0,_.onAuthStateChanged)(v,(e=>{if(e){console.log("registrated");e.uid}else console.log("not registrated")})),n("4dIBK");
//# sourceMappingURL=index.02643f9a.js.map
