{"mappings":"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","sources":["src/index.js","src/js/main_page/media-width.js","src/js/main_page/functions.js","src/js/main_page/main_page.js","src/js/modal-auth/modal-window-authFirebase.js","src/js/modal-auth/firebaseAuth.js"],"sourcesContent":["import './js/preloader';\nimport './js/support-ukraine';\nimport './js/main_page/main_page';\nimport './js/toggle-color-theme';\nimport './js/refs';\nimport './js/modal-auth/modal-window-authFirebase';\nimport './js/modal-auth/firebaseAuth';\nimport './js/menu';\n","\n\n\n\nexport function addMediaWidth() { \n    const checkedWidts = document.documentElement.clientWidth\n    \n    if (checkedWidts < 767) {\n        \n        return \"mobile\"\n    } if (checkedWidts < 1439) { \n        return \"tablet\"\n    } if (checkedWidts >= 1440) { \n        return \"desctop\"\n    }\n}\n\n// addMediaWidth()\n\n\n// export default {addMediaWidth }","import { addMediaWidth } from \"./media-width\";\n\nexport async function murkupCategoryList(fetch) {\n  return await fetch.data.map(({ list_name }) => { return `<li class=\"category__home-itm\">${list_name}</li>` }).join('');\n}\n\nasync function sliceData(data) {\n\n  if (addMediaWidth() === \"mobile\") {\n    return makeListOfBooks(data.slice(0, 1))\n  } else if (addMediaWidth() === \"tablet\") {\n    return makeListOfBooks(await data.slice(0, 3))\n  } else {\n    return makeListOfBooks(data)\n  }\n}\n\nexport async function murkup(data) {\n \n  return await Promise.all(data.map(async ({ list_name, books }) => {\n    return ` \n    <div class=\"item-books__home\"> \n    <h3 class=\"js-book-categoty\">${list_name}</h3> \n    <ul class='list-books__home'>${await sliceData(books)}</ul> \n    <button class=\"button see-more\" data-js=\"${list_name}\">See more</button> \n    </div> \n    `;\n  }));\n}\n\n\nexport async function makeCategoryPage(category, data) {\n\n  const title = category.split(\" \");\n  return ` \n  <h2 class=\"block__books-title\">${title.splice(0, (title.length / 2)).join(' ')} <span class=\"block__books-colortitle\">${title.splice((title.length / 2), title.length).join(' ')}</span></h2> \n        <ul class=\"block__books-list\">${await makeListOfBooks(data)}</ul>`\n\n\n};\n\nexport async function makeListOfBooks(data) {\n \n  return data.map(({ author, book_image, title, description, _id }) => {\n    return `<li class=\"books__itm\">  \n    <div class=\"books__wrapper\" id=${_id} > \n    <img class=\"books__image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\"  /> \n    <div class=\"books__overlay\"> \n    <p class=\"books__overlay-text\"></p> \n    </div> \n    </div> \n    <div class=\"books__info\">  \n    <p class=\"books__info-title\">${title}</p>  \n    <p class=\"books__info-author\">${author}</p>  \n    </div>  \n    </li>`\n  }\n  ).join('');\n};\n\n\n\n\n\n// export async function marcupBook(books) {\n//   return await books.map(({ list_name, book_image, _id, author, title\n//   }) => {\n//     return `\n// <div class=\"book-card__home\">\n//   <div class=\"thumb__home js-item\">\n//     <a  href=\"${book_image}\"\n//       ><img class=\"js-bookImg\" src=\"${book_image}\" id=${_id} alt=\"\" title=\"\" loading=\"lazy\"\n//     /></a>\n//   </div>\n//   <div>\n//     <p class=\"info-title\">\n//       <b>${title}</b>\n//     </p>\n//     <p class=\"info-autor\">\n//       <b>${author}</b>\n//     </p>\n//   </div>\n// </div>\n// `}).join('')\n// }","import axios from \"axios\"\nimport { BooksAPI } from \"./fetch\";\nimport { makeCategoryPage } from \"./functions\";\nimport { murkupCategoryList } from \"./functions\";\nimport { murkup } from \"./functions\";\nimport { addMediaWidth } from \"./media-width\";\nimport {\n  startPreloader,\n  stopPreloader,\n  addMarkupOfPreloader,\n} from '../preloader';\n\n\n\n\nconst refBooks = document.querySelector('.block__books')\nconst refCategory = document.querySelector('.category__home')\nconst markupBook = document.querySelector('.block__category')\n\nconst bookCart = document.querySelector('.book-card__home')\n\nconst bookApi = new BooksAPI();\n\nonFirstload()\n\nasync function onFirstload() {\n  const resp = (await bookApi.getTopBooks());\n  const categoryApi = (await bookApi.getCategoryList());\n  if (!resp.statusText) {\n    throw new Error(resp.statusText)\n  } else {\n    refCategory.insertAdjacentHTML('beforeend', (await murkupCategoryList(categoryApi)))\n    refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>')\n    refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\"))\n    return resp.data;\n  }\n\n}\nrefCategory.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(el) { \n  el.preventDefault(); \n  if (el.target.classList.contains(\"category__home-itm\")) { \n    refBooks.innerHTML = \"\";\n\n    //Add and start preloader\n    refBooks.insertAdjacentHTML(\n      'afterbegin',\n      addMarkupOfPreloader()\n    );\n    startPreloader();\n    //------------------------\n\n    const data = await (await bookApi.getOneCategory(`${el.target.innerText}`)).data; \n    const resp = (await bookApi.getTopBooks()); \n    if (el.target.innerText === `All categories`) { \n      refBooks.insertAdjacentHTML('afterbegin', '<h2 class=\"block__books-title\">Best Sellers<span class=\"block__books-colortitle\"> Books</span></h2>') \n      refBooks.insertAdjacentHTML('beforeend', (await murkup(resp.data)).join(\"\")); \n    } \n    refBooks.insertAdjacentHTML('beforeend', await makeCategoryPage(`${el.target.innerText}`, data)); \n  } \n\n  //Stop and remove preloader\n  stopPreloader();\n  //-------------------------\n};\n\nrefBooks.addEventListener('click', onSeeMoreClick); \n \nasync function onSeeMoreClick(event) { \n  event.preventDefault(); \n  if (event.target.classList.contains(\"see-more\")) {\n    const requestedCategory = event.target.dataset.js;\n    console.dir(requestedCategory);\n    refBooks.innerHTML = '';\n\n    //Add and start preloader\n    refBooks.insertAdjacentHTML(\n      'afterbegin',\n      addMarkupOfPreloader()\n    );\n    startPreloader();\n    //------------------------\n\n    const data = await (\n      await bookApi.getOneCategory(`${requestedCategory}`)\n    ).data;\n    refBooks.insertAdjacentHTML(\n      'beforeend',\n      await makeCategoryPage(`${requestedCategory}`, data)\n    );\n\n    //Stop and remove preloader\n    stopPreloader();\n    //-------------------------\n  }; \n};\n\n\n// ===========================================================\n// addeventListner!!!!!!!!!!!!!!!!!!!!!!!!!!\n// ===========================================================\n// refBooks.addEventListener('click', onClick)\n\n\n\n","import { refs } from '../refs';\n\n\nrefs.openAuthBtn.addEventListener('click', toggleModal);\nrefs.closeAutBtn.addEventListener('click', toggleModal);\n\n\n\nrefs.formAuth.addEventListener('input', () => {\n\n  if (refs.submitBtn.textContent === 'Sign up') {\n\n    if (refs.formAuth.elements.mail.value !== '' &&\n      refs.formAuth.elements.name.value !== '' &&\n      refs.formAuth.elements.password.value !== ''\n    ) {\n      refs.submitBtn.classList.remove('disabled');\n    } else {\n      refs.submitBtn.classList.add('disabled');\n    }\n\n  } else {\n    if (refs.formAuth.elements.mail.value !== '' &&\n      refs.formAuth.elements.password.value !== ''\n    ) {\n      refs.submitBtn.classList.remove('disabled');\n    } else {\n      refs.submitBtn.classList.add('disabled');\n    }\n\n  }\n  \n});\n\nfunction toggleModal() {\n  refs.modalAuth.classList.toggle('is-hidden');\n}\n\nrefs.signInBtn.addEventListener('click', onSignInBtn);\nrefs.signUpBtn.addEventListener('click', onSignUpBtn);\n\nfunction onSignInBtn() {\n  refs.signUpBtn.classList.remove('active');\n  refs.signInBtn.classList.add('active');\n  refs.submitBtn.textContent = 'Sign in';\n  refs.formInputs.innerHTML = '';\n}\n\nfunction onSignUpBtn() {\n  refs.signInBtn.classList.remove('active');\n  refs.signUpBtn.classList.add('active');\n  refs.submitBtn.textContent = 'Sign up';\n  refs.formInputs.innerHTML = `<div class=\"form__field\">\n          <input\n            id=\"username\"\n            type=\"text\"\n            class=\"form__input form__input-name\"\n            name=\"name\"\n            pattern=\"^[A-Za-z][A-Za-z0-9_]{3,10}$\"\n            required\n          />\n          <label for=\"name\" class=\"form__label form__label-name\">Name</label>\n        </div>`;\n}\n\nrefs.inputName.addEventListener('input', onInputName);\nrefs.inputMail.addEventListener('input', onInputMail);\nrefs.inputPassword.addEventListener('input', onInputPassword);\n\nfunction onInputName() {\n  if (refs.inputName.value) {\n    refs.labelName.classList.add('checked');\n  } else {\n    refs.labelName.classList.remove('checked');\n  }\n}\n\nfunction onInputMail() {\n  if (refs.inputMail.value) {\n    refs.labelMail.classList.add('checked');\n  } else {\n    refs.labelMail.classList.remove('checked');\n  }\n}\n\nfunction onInputPassword() {\n  if (refs.inputPassword.value) {\n    refs.labelPassword.classList.add('checked');\n  } else {\n    refs.labelPassword.classList.remove('checked');\n  }\n}","import { refs } from '../refs';\nimport { signUp, signIn, singOutFunction } from './firebaseFunction';\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { ref } from 'firebase/database';\n\nconst auth = getAuth();\n\nrefs.submitBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    if (!refs.submitBtn.classList.contains('disabled')) {\n    refs.modalAuth.classList.add('is-hidden');\n  }\n\n    if (refs.submitBtn.textContent === 'Sign up') {\n    const { value : email } = document.getElementById('email');\n    const { value : password } = document.getElementById('password');\n    const { value: username } = document.getElementById('username');\n        \n    if (email !== '' && password !== '' && username !== '') {\n            signUp(email, password, username);\n        }\n    } else {\n    const { value : email } = document.getElementById('email');\n        const { value: password } = document.getElementById('password');\n        \n    if (email !== '' && password !== '') {\n            signIn(email, password);\n        }\n    \n  }\n\n})\n \n\nrefs.signOutBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    singOutFunction();\n\n} )\n\n\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n        console.log('registrated');\n            // User is signed in, see docs for a list of available properties\n            // https://firebase.google.com/docs/reference/js/firebase.User\n            const uid = user.uid;\n            // ...\n    } else {\n        console.log('not registrated');\n            // User is signed out\n            // ...\n        }\n});\n"],"names":["parcelRequire","$b2af5dae5cbe50e6$export$a09a7dc423207a75","checkedWidts","document","documentElement","clientWidth","async","$d5714379388b7225$export$af76976bfd573c60","fetch","data","map","list_name","join","$d5714379388b7225$export$10f346b5617a8f5c","Promise","all","books","$d5714379388b7225$export$21c7b1be35f5970e","slice","$d5714379388b7225$var$sliceData","$d5714379388b7225$export$ef55d93817bcd964","category","title","split","splice","length","author","book_image","description","_id","$abb99e6ee51b8bc8$var$refBooks","querySelector","$abb99e6ee51b8bc8$var$refCategory","$abb99e6ee51b8bc8$var$bookApi","$bqQ6g","BooksAPI","$a2268e869f426242$var$toggleModal","$krGWQ","refs","modalAuth","classList","toggle","resp","getTopBooks","categoryApi","getCategoryList","statusText","insertAdjacentHTML","Error","$abb99e6ee51b8bc8$var$onFirstload","addEventListener","el","preventDefault","target","contains","innerHTML","$ioBS9","addMarkupOfPreloader","startPreloader","getOneCategory","innerText","stopPreloader","event","requestedCategory","dataset","js","console","dir","openAuthBtn","closeAutBtn","formAuth","submitBtn","textContent","elements","mail","value","name","password","remove","add","signInBtn","signUpBtn","formInputs","inputName","labelName","inputMail","labelMail","inputPassword","labelPassword","$3d91796057bbea27$var$auth","$eyjy7","getAuth","e","email","getElementById","username","$8mXNj","signUp","signIn","signOutBtn","singOutFunction","onAuthStateChanged","user","log","uid"],"version":3,"file":"index.02643f9a.js.map"}